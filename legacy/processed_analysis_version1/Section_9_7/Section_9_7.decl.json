[{"value":{"range":[887,4332],"original":true},"type":{"range":[856,886],"original":true},"signature":{"range":[711,886],"pp":" {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) {y : ℝ}\n  (hy : y ∈ Set.Icc (f a) (f b) ∨ y ∈ Set.Icc (f a) (f b)) : ∃ c ∈ Set.Icc a b, f c = y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[634,4332],"pp":"/-- Theorem 9.7.1 (Intermediate value theorem) -/\ntheorem intermediate_value {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) {y : ℝ}\n    (hy : y ∈ Set.Icc (f a) (f b) ∨ y ∈ Set.Icc (f a) (f b)) : ∃ c ∈ Set.Icc a b, f c = y := by\n  -- This proof is written to follow the structure of the original text.\n  \n  obtain hy_left | hy_right := hy\n  . by_cases hya : y = f a; use a; grind\n    by_cases hyb : y = f b; use b; grind\n    simp at hy_left\n    replace hya : f a < y := by grind\n    replace hyb : y < f b := by grind\n    set E := {x | x ∈ Set.Icc a b ∧ f x < y}\n    have hE : E ⊆ .Icc a b := fun x ⟨hx₁, hx₂⟩ ↦ hx₁\n    have hE_bdd : BddAbove E := bddAbove_Icc.mono hE\n    have hEa : a ∈ E := by simp [E, hya, le_of_lt hab]\n    have hE_nonempty : E.Nonempty := by use a\n    set c := sSup E\n    have hc : c ∈ Set.Icc a b := by\n      simp; split_ands\n      . solve_by_elim [ConditionallyCompleteLattice.le_csSup]\n      convert csSup_le_csSup bddAbove_Icc hE_nonempty hE\n      grind [csSup_Icc]\n    use c, hc\n    have hfc_upper : f c ≤ y :=\n      by\n      have hxe (n : ℕ) : ∃ x ∈ E, c - 1 / (n + 1 : ℝ) < x :=\n        by\n        have : 1 / (n + 1 : ℝ) > 0 := by positivity\n        replace : c - 1 / (n + 1 : ℝ) < sSup E := by linarith\n        solve_by_elim [exists_lt_of_lt_csSup]\n      set x := fun n ↦ (hxe n).choose\n      have hx1 (n : ℕ) : x n ∈ E := (hxe n).choose_spec.1\n      have hx2 (n : ℕ) : c - 1 / (n + 1 : ℝ) < x n := (hxe n).choose_spec.2\n      have : Filter.atTop.Tendsto x (nhds c) :=\n        by\n        apply Filter.Tendsto.squeeze (g := fun j ↦ c - 1 / (j + 1 : ℝ)) (h := fun j ↦ c) (f := x)\n        . convert tendsto_one_div_add_atTop_nhds_zero_nat.const_sub c; simp\n        . exact tendsto_const_nhds\n        . exact fun n ↦ le_of_lt (hx2 n)\n        exact fun n ↦ ConditionallyCompleteLattice.le_csSup _ _ hE_bdd (hx1 n)\n      replace := this.comp_of_continuous hc (hf.continuousWithinAt hc) (fun n ↦ hE (hx1 n))\n      have hfxny (n : ℕ) : f (x n) ≤ y := by specialize hx1 n; simp [E] at hx1; grind\n      exact le_of_tendsto' this hfxny\n    have hne : c < b := by grind\n    have hfc_lower : y ≤ f c :=\n      by\n      have : ∃ N : ℕ, ∀ n ≥ N, (c + 1 / (n + 1 : ℝ)) < b :=\n        by\n        choose N hN using exists_nat_gt (1 / (b - c))\n        use N; intro n hn\n        have hpos : 0 < b - c := by linarith\n        have : 1 / (n + 1 : ℝ) < b - c := by rw [one_div_lt] <;> (try positivity); apply hN.trans; norm_cast; linarith\n        linarith\n      choose N hN using this\n      have hmem : ∀ n ≥ N, (c + 1 / (n + 1 : ℝ)) ∈ Set.Icc a b :=\n        by\n        intro n hn\n        simp [-one_div, le_of_lt (hN n hn)]\n        have : 1 / (n + 1 : ℝ) > 0 := by positivity\n        replace : c + 1 / (n + 1 : ℝ) > c := by linarith\n        grind\n      have : ∀ n ≥ N, c + 1 / (n + 1 : ℝ) ∉ E := by\n        intro n _\n        have : 1 / (n + 1 : ℝ) > 0 := by positivity\n        replace : c + 1 / (n + 1 : ℝ) > c := by linarith\n        solve_by_elim [notMem_of_csSup_lt]\n      replace : ∀ n ≥ N, f (c + 1 / (n + 1 : ℝ)) ≥ y := by\n        intro n hn; specialize this n hn; contrapose! this\n        simp [E]\n        have := hmem n hn\n        simp_all\n      have hconv : Filter.atTop.Tendsto (fun n : ℕ ↦ c + 1 / (n + 1 : ℝ)) (nhds c) := by\n        convert tendsto_one_div_add_atTop_nhds_zero_nat.const_add c; simp\n      replace hf := (hf.continuousWithinAt hc).tendsto\n      rw [nhdsWithin.eq_1] at hf\n      have hconv' : Filter.atTop.Tendsto (fun n : ℕ ↦ c + 1 / (n + 1 : ℝ)) (.principal (.Icc a b)) := by\n        simp [-one_div, -Set.mem_Icc]; use N\n      replace hconv' := Filter.tendsto_inf.mpr ⟨hconv, hconv'⟩\n      apply ge_of_tendsto (hf.comp hconv') _\n      simp [-one_div]; use N\n    linarith\n  sorry","original":true},"params":[{"type":[716,719],"ref":[712,713],"id":[712,713],"bi":"implicit"},{"type":[716,719],"ref":[714,715],"id":[714,715],"bi":"implicit"},{"type":[727,732],"ref":[722,725],"id":[722,725],"bi":"default"},{"type":[737,748],"ref":[735,736],"id":[735,736],"bi":"implicit"},{"type":[755,780],"ref":[751,753],"id":[751,753],"bi":"default"},{"type":[785,788],"ref":[783,784],"id":[783,784],"bi":"implicit"},{"type":[795,850],"ref":[791,793],"id":[791,793],"bi":"default"}],"name":["Chapter9","intermediate_value"],"modifiers":null,"kind":"theorem","id":{"range":[692,710],"original":true}},{"value":{"range":[4395,4433],"original":true},"type":{"range":[4383,4394],"original":true},"signature":{"range":[4381,4394],"pp":" : ℝ → ℝ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"],["Classical"]],"openDecl":[{"simple":{"namespace":["Classical"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4352,4433],"pp":"noncomputable abbrev f_9_7_1 : ℝ → ℝ := fun x ↦ if x ≤ 0 then -1 else 1","original":true},"params":[],"name":["Chapter9","f_9_7_1"],"modifiers":null,"kind":"abbrev","id":{"range":[4373,4380],"original":true}},{"value":{"range":[4533,4546],"original":true},"type":{"range":[4445,4532],"original":true},"signature":{"range":[4443,4532],"pp":" : 0 ∈ Set.Icc (f_9_7_1 (-1)) (f_9_7_1 1) ∧ ¬∃ x ∈ Set.Icc (-1) 1, f_9_7_1 x = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4435,4546],"pp":"example : 0 ∈ Set.Icc (f_9_7_1 (-1)) (f_9_7_1 1) ∧ ¬∃ x ∈ Set.Icc (-1) 1, f_9_7_1 x = 0 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4435,4442],"original":false}},{"value":{"range":[4597,4617],"original":true},"type":{"range":[4585,4596],"original":true},"signature":{"range":[4583,4596],"pp":" : ℝ → ℝ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4548,4617],"pp":"/-- Remark 9.7.2 -/\nabbrev f_9_7_2 : ℝ → ℝ := fun x ↦ x ^ 3 - x","original":true},"params":[],"name":["Chapter9","f_9_7_2"],"modifiers":null,"kind":"abbrev","id":{"range":[4575,4582],"original":true}},{"value":{"range":[4647,4658],"original":true},"type":{"range":[4629,4646],"original":true},"signature":{"range":[4627,4646],"pp":" : f_9_7_2 (-2) = -6","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4619,4658],"pp":"example : f_9_7_2 (-2) = -6 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4619,4626],"original":false}},{"value":{"range":[4683,4694],"original":true},"type":{"range":[4669,4682],"original":true},"signature":{"range":[4667,4682],"pp":" : f_9_7_2 2 = 6","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4659,4694],"pp":"example : f_9_7_2 2 = 6 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4659,4666],"original":false}},{"value":{"range":[4722,4733],"original":true},"type":{"range":[4705,4721],"original":true},"signature":{"range":[4703,4721],"pp":" : f_9_7_2 (-1) = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4695,4733],"pp":"example : f_9_7_2 (-1) = 0 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4695,4702],"original":false}},{"value":{"range":[4758,4769],"original":true},"type":{"range":[4744,4757],"original":true},"signature":{"range":[4742,4757],"pp":" : f_9_7_2 0 = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4734,4769],"pp":"example : f_9_7_2 0 = 0 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4734,4741],"original":false}},{"value":{"range":[4794,4805],"original":true},"type":{"range":[4780,4793],"original":true},"signature":{"range":[4778,4793],"pp":" : f_9_7_2 1 = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4770,4805],"pp":"example : f_9_7_2 1 = 0 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4770,4777],"original":false}},{"value":{"range":[4880,4891],"original":true},"type":{"range":[4837,4879],"original":true},"signature":{"range":[4835,4879],"pp":" : ∃ x : ℝ, 0 ≤ x ∧ x ≤ 2 ∧ x ^ 2 = 2","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4807,4891],"pp":"/-- Remark 9.7.3 -/\nexample : ∃ x : ℝ, 0 ≤ x ∧ x ≤ 2 ∧ x ^ 2 = 2 := by sorry","original":true},"params":[],"name":["Chapter9","_example"],"modifiers":null,"kind":"example","id":{"range":[4827,4834],"original":false}},{"value":{"range":[5171,5184],"original":true},"type":{"range":[5140,5170],"original":true},"signature":{"range":[4995,5170],"pp":" {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) {y : ℝ}\n  (hy : sInf (f '' .Icc a b) ≤ y ∧ y ≤ sSup (f '' .Icc a b)) : ∃ c ∈ Set.Icc a b, f c = y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[4893,5184],"pp":"/-- Corollary 9.7.4 (Images of continuous functions) / Exercise 9.7.1 -/\ntheorem continuous_image_Icc {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) {y : ℝ}\n    (hy : sInf (f '' .Icc a b) ≤ y ∧ y ≤ sSup (f '' .Icc a b)) : ∃ c ∈ Set.Icc a b, f c = y := by sorry","original":true},"params":[{"type":[5000,5003],"ref":[4996,4997],"id":[4996,4997],"bi":"implicit"},{"type":[5000,5003],"ref":[4998,4999],"id":[4998,4999],"bi":"implicit"},{"type":[5011,5016],"ref":[5006,5009],"id":[5006,5009],"bi":"default"},{"type":[5021,5032],"ref":[5019,5020],"id":[5019,5020],"bi":"implicit"},{"type":[5039,5064],"ref":[5035,5037],"id":[5035,5037],"bi":"default"},{"type":[5069,5072],"ref":[5067,5068],"id":[5067,5068],"bi":"implicit"},{"type":[5079,5136],"ref":[5075,5077],"id":[5075,5077],"bi":"default"}],"name":["Chapter9","continuous_image_Icc"],"modifiers":null,"kind":"theorem","id":{"range":[4974,4994],"original":true}},{"value":{"range":[5356,5369],"original":true},"type":{"range":[5289,5355],"original":true},"signature":{"range":[5216,5355],"pp":" {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) :\n  f '' .Icc a b = .Icc (sInf (f '' .Icc a b)) (sSup (f '' .Icc a b))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[5186,5369],"pp":"theorem continuous_image_Icc' {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc a b)) :\n    f '' .Icc a b = .Icc (sInf (f '' .Icc a b)) (sSup (f '' .Icc a b)) := by sorry","original":true},"params":[{"type":[5221,5224],"ref":[5217,5218],"id":[5217,5218],"bi":"implicit"},{"type":[5221,5224],"ref":[5219,5220],"id":[5219,5220],"bi":"implicit"},{"type":[5232,5237],"ref":[5227,5230],"id":[5227,5230],"bi":"default"},{"type":[5242,5253],"ref":[5240,5241],"id":[5240,5241],"bi":"implicit"},{"type":[5260,5285],"ref":[5256,5258],"id":[5256,5258],"bi":"default"}],"name":["Chapter9","continuous_image_Icc'"],"modifiers":null,"kind":"theorem","id":{"range":[5194,5215],"original":true}},{"value":{"range":[5533,5546],"original":true},"type":{"range":[5502,5532],"original":true},"signature":{"range":[5417,5532],"pp":" {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc 0 1)) (hmap : f '' .Icc 0 1 ⊆ .Icc 0 1) : ∃ x ∈ Set.Icc 0 1, f x = x","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter9"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter9"]},"ref":{"range":[5371,5546],"pp":"/-- Exercise 9.7.2 -/\ntheorem exists_fixed_pt {f : ℝ → ℝ} (hf : ContinuousOn f (.Icc 0 1)) (hmap : f '' .Icc 0 1 ⊆ .Icc 0 1) :\n    ∃ x ∈ Set.Icc 0 1, f x = x := by sorry","original":true},"params":[{"type":[5420,5431],"ref":[5418,5419],"id":[5418,5419],"bi":"implicit"},{"type":[5438,5463],"ref":[5434,5436],"id":[5434,5436],"bi":"default"},{"type":[5472,5498],"ref":[5466,5470],"id":[5466,5470],"bi":"default"}],"name":["Chapter9","exists_fixed_pt"],"modifiers":null,"kind":"theorem","id":{"range":[5401,5416],"original":true}}]
