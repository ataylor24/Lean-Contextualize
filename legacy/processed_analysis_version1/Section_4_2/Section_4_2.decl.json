[{"value":{"range":[1638,1795],"original":true},"type":{"range":[1624,1637],"original":true},"signature":{"range":[1622,1637],"pp":" : Setoid PreRat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"],["Section_4_2","PreRat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","PreRat"]},"ref":{"range":[1573,1795],"pp":"/-- Exercise 4.2.1 -/\ninstance instSetoid : Setoid PreRat\n    where\n  r a b := a.numerator * b.denominator = b.numerator * a.denominator\n  iseqv :=\n    { refl := by sorry\n      symm := by sorry\n      trans := by sorry }","original":true},"params":[],"name":["Section_4_2","PreRat","instSetoid"],"modifiers":null,"kind":"instance","id":{"range":[1604,1621],"original":true}},{"value":{"range":[1933,1942],"original":true},"type":{"range":[1871,1932],"original":true},"signature":{"range":[1823,1932],"pp":" (a b c d : ℤ) (hb : b ≠ 0) (hd : d ≠ 0) : (⟨a, b, hb⟩ : PreRat) ≈ ⟨c, d, hd⟩ ↔ a * d = c * b","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"],["Section_4_2","PreRat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","PreRat"]},"ref":{"range":[1797,1942],"pp":"@[simp]\ntheorem eq (a b c d : ℤ) (hb : b ≠ 0) (hd : d ≠ 0) : (⟨a, b, hb⟩ : PreRat) ≈ ⟨c, d, hd⟩ ↔ a * d = c * b := by rfl","original":true},"params":[{"type":[1832,1835],"ref":[1824,1825],"id":[1824,1825],"bi":"default"},{"type":[1832,1835],"ref":[1826,1827],"id":[1826,1827],"bi":"default"},{"type":[1832,1835],"ref":[1828,1829],"id":[1828,1829],"bi":"default"},{"type":[1832,1835],"ref":[1830,1831],"id":[1830,1831],"bi":"default"},{"type":[1842,1849],"ref":[1838,1840],"id":[1838,1840],"bi":"default"},{"type":[1856,1863],"ref":[1852,1854],"id":[1852,1854],"bi":"default"}],"name":["Section_4_2","PreRat","eq"],"modifiers":null,"kind":"theorem","id":{"range":[1813,1822],"original":true}},{"value":{"range":[1955,1984],"original":true},"type":null,"signature":{"range":null,"pp":"","original":false},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2"]},"ref":{"range":[1944,1984],"pp":"abbrev Rat :=\n  Quotient PreRat.instSetoid","original":true},"params":[],"name":["Section_4_2","Rat"],"modifiers":null,"kind":"abbrev","id":{"range":[1951,1954],"original":true}},{"value":{"range":[2097,2194],"original":true},"type":{"range":[2093,2096],"original":true},"signature":{"range":[2081,2096],"pp":" (a b : ℤ) : Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[1986,2194],"pp":"/-- We give division a \"junk\" value of 0//1 if the denominator is zero -/\nabbrev formalDiv (a b : ℤ) : Rat :=\n  Quotient.mk PreRat.instSetoid (if h : b ≠ 0 then ⟨a, b, h⟩ else ⟨0, 1, by decide⟩)","original":true},"params":[{"type":[2086,2089],"ref":[2082,2083],"id":[2082,2083],"bi":"default"},{"type":[2086,2089],"ref":[2084,2085],"id":[2084,2085],"bi":"default"}],"name":["Section_4_2","Rat","formalDiv"],"modifiers":null,"kind":"abbrev","id":{"range":[2067,2080],"original":true}},{"value":{"range":[2196,2229],"original":false},"type":{"range":[2196,2229],"original":false},"signature":{"range":[2196,2229],"pp":" : Lean.TrailingParserDescr✝","original":false},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2"]},"ref":{"range":[2196,2229],"pp":"@[term_parser 1000]\nmeta def «term_//_» : Lean.TrailingParserDescr✝ :=\n  ParserDescr.trailingNode✝ `Section_4_2.«term_//_» 100 101\n    (ParserDescr.binary✝ `andthen (ParserDescr.symbol✝ \" // \") (ParserDescr.cat✝ `term 101))","original":false},"params":[],"name":["Section_4_2","term_//_"],"modifiers":null,"kind":"definition","id":{"range":[2196,2229],"original":false}},{"value":{"range":[2196,2229],"original":false},"type":{"range":[2196,2229],"original":false},"signature":{"range":[2196,2229],"pp":" : Macro✝","original":false},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2"]},"ref":{"range":[2196,2229],"original":false},"params":[],"name":["Section_4_2","_aux___macroRules_Section_4_2_term_//__1"],"modifiers":null,"kind":"definition","id":{"range":[2196,2229],"original":false}},{"value":{"range":[2196,2229],"original":false},"type":{"range":[2196,2229],"original":false},"signature":{"range":[2196,2229],"pp":" : Lean.PrettyPrinter.Unexpander✝","original":false},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2"]},"ref":{"range":[2196,2229],"original":false},"params":[],"name":["Section_4_2","_aux___unexpand_Section_4_2_Rat_formalDiv_1"],"modifiers":null,"kind":"definition","id":{"range":[2196,2229],"original":false}},{"value":{"range":[2365,2396],"original":true},"type":{"range":[2331,2364],"original":true},"signature":{"range":[2282,2364],"pp":" (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : a // b = c // d ↔ a * d = c * b","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[2231,2396],"pp":"/-- Definition 4.2.1 (Rationals) -/\ntheorem eq (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : a // b = c // d ↔ a * d = c * b := by simp [hb, hd, Setoid.r]","original":true},"params":[{"type":[2287,2290],"ref":[2283,2284],"id":[2283,2284],"bi":"default"},{"type":[2287,2290],"ref":[2285,2286],"id":[2285,2286],"bi":"default"},{"type":[2297,2300],"ref":[2293,2294],"id":[2293,2294],"bi":"implicit"},{"type":[2297,2300],"ref":[2295,2296],"id":[2295,2296],"bi":"implicit"},{"type":[2307,2314],"ref":[2303,2305],"id":[2303,2305],"bi":"default"},{"type":[2321,2328],"ref":[2317,2319],"id":[2317,2319],"bi":"default"}],"name":["Section_4_2","Rat","eq"],"modifiers":null,"kind":"theorem","id":{"range":[2275,2281],"original":true}},{"value":{"range":[2496,2600],"original":true},"type":{"range":[2464,2495],"original":true},"signature":{"range":[2454,2495],"pp":" (n : Rat) : ∃ a b, b ≠ 0 ∧ n = a // b","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[2398,2600],"pp":"/-- Definition 4.2.1 (Rationals) -/\ntheorem eq_diff (n : Rat) : ∃ a b, b ≠ 0 ∧ n = a // b :=\n  by\n  apply Quotient.ind _ n; intro ⟨a, b, h⟩\n  refine ⟨a, b, h, ?_⟩\n  simp [formalDiv, h]","original":true},"params":[{"type":[2457,2460],"ref":[2455,2456],"id":[2455,2456],"bi":"default"}],"name":["Section_4_2","Rat","eq_diff"],"modifiers":null,"kind":"theorem","id":{"range":[2442,2453],"original":true}},{"value":{"range":[2930,2943],"original":true},"type":{"range":[2914,2929],"original":true},"signature":{"range":[2912,2929],"pp":" : DecidableEq Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[2602,2943],"pp":"/-- Decidability of equality. Hint: modify the proof of `DecidableEq Int` from the previous\n  section. However, because formal division handles the case of zero denominator separately, it\n  may be more convenient to avoid that operation and work directly with the `Quotient` API.\n-/\ninstance decidableEq : DecidableEq Rat := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","decidableEq"],"modifiers":null,"kind":"instance","id":{"range":[2896,2911],"original":true}},{"value":{"range":[3020,3369],"original":true},"type":{"range":[3012,3019],"original":true},"signature":{"range":[3010,3019],"pp":" : Add Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[2945,3369],"pp":"/-- Lemma 4.2.3 (Addition well-defined) -/\ninstance add_inst : Add Rat where\n  add :=\n    Quotient.lift₂ (fun ⟨a, b, h1⟩ ⟨c, d, h2⟩ ↦ (a * d + b * c) // (b * d))\n      (by\n        intro ⟨a, b, h1⟩ ⟨c, d, h2⟩ ⟨a', b', h1'⟩ ⟨c', d', h2'⟩ h3 h4\n        simp_all [Setoid.r]\n        calc\n          _ = (a * b') * d * d' + b * b' * (c * d') := by ring\n          _ = (a' * b) * d * d' + b * b' * (c' * d) := by rw [h3, h4]\n          _ = _ := by ring)","original":true},"params":[],"name":["Section_4_2","Rat","add_inst"],"modifiers":null,"kind":"instance","id":{"range":[2997,3009],"original":true}},{"value":{"range":[3535,3596],"original":true},"type":{"range":[3492,3534],"original":true},"signature":{"range":[3438,3534],"pp":" (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : (a // b) + (c // d) = (a * d + b * c) // (b * d)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[3371,3596],"pp":"/-- Definition 4.2.2 (Addition of rationals) -/\ntheorem add_eq (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : (a // b) + (c // d) = (a * d + b * c) // (b * d) := by\n  convert Quotient.lift₂_mk _ _ _ _ <;> simp [hb, hd]","original":true},"params":[{"type":[3443,3446],"ref":[3439,3440],"id":[3439,3440],"bi":"default"},{"type":[3443,3446],"ref":[3441,3442],"id":[3441,3442],"bi":"default"},{"type":[3453,3456],"ref":[3449,3450],"id":[3449,3450],"bi":"implicit"},{"type":[3453,3456],"ref":[3451,3452],"id":[3451,3452],"bi":"implicit"},{"type":[3463,3470],"ref":[3459,3461],"id":[3459,3461],"bi":"default"},{"type":[3477,3484],"ref":[3473,3475],"id":[3473,3475],"bi":"default"}],"name":["Section_4_2","Rat","add_eq"],"modifiers":null,"kind":"theorem","id":{"range":[3427,3437],"original":true}},{"value":{"range":[3679,3780],"original":true},"type":{"range":[3671,3678],"original":true},"signature":{"range":[3669,3678],"pp":" : Mul Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[3598,3780],"pp":"/-- Lemma 4.2.3 (Multiplication well-defined) -/\ninstance mul_inst : Mul Rat where mul := Quotient.lift₂ (fun ⟨a, b, h1⟩ ⟨c, d, h2⟩ ↦ (a * c) // (b * d)) (by sorry)","original":true},"params":[],"name":["Section_4_2","Rat","mul_inst"],"modifiers":null,"kind":"instance","id":{"range":[3656,3668],"original":true}},{"value":{"range":[3946,4007],"original":true},"type":{"range":[3909,3945],"original":true},"signature":{"range":[3855,3945],"pp":" (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : (a // b) * (c // d) = (a * c) // (b * d)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[3782,4007],"pp":"/-- Definition 4.2.2 (Multiplication of rationals) -/\ntheorem mul_eq (a c : ℤ) {b d : ℤ} (hb : b ≠ 0) (hd : d ≠ 0) : (a // b) * (c // d) = (a * c) // (b * d) := by\n  convert Quotient.lift₂_mk _ _ _ _ <;> simp [hb, hd]","original":true},"params":[{"type":[3860,3863],"ref":[3856,3857],"id":[3856,3857],"bi":"default"},{"type":[3860,3863],"ref":[3858,3859],"id":[3858,3859],"bi":"default"},{"type":[3870,3873],"ref":[3866,3867],"id":[3866,3867],"bi":"implicit"},{"type":[3870,3873],"ref":[3868,3869],"id":[3868,3869],"bi":"implicit"},{"type":[3880,3887],"ref":[3876,3878],"id":[3876,3878],"bi":"default"},{"type":[3894,3901],"ref":[3890,3892],"id":[3890,3892],"bi":"default"}],"name":["Section_4_2","Rat","mul_eq"],"modifiers":null,"kind":"theorem","id":{"range":[3844,3854],"original":true}},{"value":{"range":[4084,4160],"original":true},"type":{"range":[4076,4083],"original":true},"signature":{"range":[4074,4083],"pp":" : Neg Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4009,4160],"pp":"/-- Lemma 4.2.3 (Negation well-defined) -/\ninstance neg_inst : Neg Rat where neg := Quotient.lift (fun ⟨a, b, h1⟩ ↦ (-a) // b) (by sorry)","original":true},"params":[],"name":["Section_4_2","Rat","neg_inst"],"modifiers":null,"kind":"instance","id":{"range":[4061,4073],"original":true}},{"value":{"range":[4284,4336],"original":true},"type":{"range":[4261,4283],"original":true},"signature":{"range":[4229,4283],"pp":" (a : ℤ) {b : ℤ} (hb : b ≠ 0) : -(a // b) = (-a) // b","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4162,4336],"pp":"/-- Definition 4.2.2 (Negation of rationals) -/\ntheorem neg_eq (a : ℤ) {b : ℤ} (hb : b ≠ 0) : -(a // b) = (-a) // b := by convert Quotient.lift_mk _ _ _ <;> simp [hb]","original":true},"params":[{"type":[4232,4235],"ref":[4230,4231],"id":[4230,4231],"bi":"default"},{"type":[4240,4243],"ref":[4238,4239],"id":[4238,4239],"bi":"implicit"},{"type":[4250,4257],"ref":[4246,4248],"id":[4246,4248],"bi":"default"}],"name":["Section_4_2","Rat","neg_eq"],"modifiers":null,"kind":"theorem","id":{"range":[4218,4228],"original":true}},{"value":{"range":[4424,4451],"original":true},"type":{"range":[4412,4423],"original":true},"signature":{"range":[4410,4423],"pp":" : IntCast Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4338,4451],"pp":"/-- Embedding the integers in the rationals -/\ninstance instIntCast : IntCast Rat where intCast a := a // 1","original":true},"params":[],"name":["Section_4_2","Rat","instIntCast"],"modifiers":null,"kind":"instance","id":{"range":[4394,4409],"original":true}},{"value":{"range":[4492,4525],"original":true},"type":{"range":[4480,4491],"original":true},"signature":{"range":[4478,4491],"pp":" : NatCast Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4453,4525],"pp":"instance instNatCast : NatCast Rat where natCast n := (n : ℤ) // 1","original":true},"params":[],"name":["Section_4_2","Rat","instNatCast"],"modifiers":null,"kind":"instance","id":{"range":[4462,4477],"original":true}},{"value":{"range":[4572,4601],"original":true},"type":{"range":[4560,4571],"original":true},"signature":{"range":[4550,4571],"pp":" {n : ℕ} : OfNat Rat n","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4527,4601],"pp":"instance instOfNat {n : ℕ} : OfNat Rat n where ofNat := (n : ℤ) // 1","original":true},"params":[{"type":[4553,4556],"ref":[4551,4552],"id":[4551,4552],"bi":"implicit"}],"name":["Section_4_2","Rat","instOfNat"],"modifiers":null,"kind":"instance","id":{"range":[4536,4549],"original":true}},{"value":{"range":[4653,4659],"original":true},"type":{"range":[4636,4652],"original":true},"signature":{"range":[4626,4652],"pp":" (a : ℤ) : (a : Rat) = a // 1","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4603,4659],"pp":"theorem coe_Int_eq (a : ℤ) : (a : Rat) = a // 1 :=\n  rfl","original":true},"params":[{"type":[4629,4632],"ref":[4627,4628],"id":[4627,4628],"bi":"default"}],"name":["Section_4_2","Rat","coe_Int_eq"],"modifiers":null,"kind":"theorem","id":{"range":[4611,4625],"original":true}},{"value":{"range":[4711,4717],"original":true},"type":{"range":[4694,4710],"original":true},"signature":{"range":[4684,4710],"pp":" (n : ℕ) : (n : Rat) = n // 1","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4661,4717],"pp":"theorem coe_Nat_eq (n : ℕ) : (n : Rat) = n // 1 :=\n  rfl","original":true},"params":[{"type":[4687,4690],"ref":[4685,4686],"id":[4685,4686],"bi":"default"}],"name":["Section_4_2","Rat","coe_Nat_eq"],"modifiers":null,"kind":"theorem","id":{"range":[4669,4683],"original":true}},{"value":{"range":[4788,4794],"original":true},"type":{"range":[4751,4787],"original":true},"signature":{"range":[4741,4787],"pp":" (n : ℕ) : (ofNat(n) : Rat) = (ofNat(n) : Nat) // 1","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4719,4794],"pp":"theorem of_Nat_eq (n : ℕ) : (ofNat(n) : Rat) = (ofNat(n) : Nat) // 1 :=\n  rfl","original":true},"params":[{"type":[4744,4747],"ref":[4742,4743],"id":[4742,4743],"bi":"default"}],"name":["Section_4_2","Rat","of_Nat_eq"],"modifiers":null,"kind":"theorem","id":{"range":[4727,4740],"original":true}},{"value":{"range":[4909,4920],"original":true},"type":{"range":[4874,4908],"original":true},"signature":{"range":[4863,4908],"pp":" (n : ℕ) : ((n + 1 : ℕ) : Rat) = (n : Rat) + 1","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4796,4920],"pp":"/-- natCast distributes over successor -/\ntheorem natCast_succ (n : ℕ) : ((n + 1 : ℕ) : Rat) = (n : Rat) + 1 := by sorry","original":true},"params":[{"type":[4867,4870],"ref":[4864,4865],"id":[4864,4865],"bi":"default"}],"name":["Section_4_2","Rat","natCast_succ"],"modifiers":null,"kind":"theorem","id":{"range":[4846,4862],"original":true}},{"value":{"range":[5027,5038],"original":true},"type":{"range":[4997,5026],"original":true},"signature":{"range":[4985,5026],"pp":" (a b : ℤ) : (a : Rat) + (b : Rat) = (a + b : ℤ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[4922,5038],"pp":"/-- intCast distributes over addition -/\ntheorem intCast_add (a b : ℤ) : (a : Rat) + (b : Rat) = (a + b : ℤ) := by sorry","original":true},"params":[{"type":[4990,4993],"ref":[4986,4987],"id":[4986,4987],"bi":"default"},{"type":[4990,4993],"ref":[4988,4989],"id":[4988,4989],"bi":"default"}],"name":["Section_4_2","Rat","intCast_add"],"modifiers":null,"kind":"theorem","id":{"range":[4969,4984],"original":true}},{"value":{"range":[5151,5162],"original":true},"type":{"range":[5121,5150],"original":true},"signature":{"range":[5109,5150],"pp":" (a b : ℤ) : (a : Rat) * (b : Rat) = (a * b : ℤ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5040,5162],"pp":"/-- intCast distributes over multiplication -/\ntheorem intCast_mul (a b : ℤ) : (a : Rat) * (b : Rat) = (a * b : ℤ) := by sorry","original":true},"params":[{"type":[5114,5117],"ref":[5110,5111],"id":[5110,5111],"bi":"default"},{"type":[5114,5117],"ref":[5112,5113],"id":[5112,5113],"bi":"default"}],"name":["Section_4_2","Rat","intCast_mul"],"modifiers":null,"kind":"theorem","id":{"range":[5093,5108],"original":true}},{"value":{"range":[5255,5261],"original":true},"type":{"range":[5234,5254],"original":true},"signature":{"range":[5224,5254],"pp":" (a : ℤ) : -(a : Rat) = (-a : ℤ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5164,5261],"pp":"/-- intCast commutes with negation -/\ntheorem intCast_neg (a : ℤ) : -(a : Rat) = (-a : ℤ) :=\n  rfl","original":true},"params":[{"type":[5227,5230],"ref":[5225,5226],"id":[5225,5226],"bi":"default"}],"name":["Section_4_2","Rat","intCast_neg"],"modifiers":null,"kind":"theorem","id":{"range":[5208,5223],"original":true}},{"value":{"range":[5332,5343],"original":true},"type":{"range":[5289,5331],"original":true},"signature":{"range":[5287,5331],"pp":" : Function.Injective (fun n : ℤ ↦ (n : Rat))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5263,5343],"pp":"theorem coe_Int_inj : Function.Injective (fun n : ℤ ↦ (n : Rat)) := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","coe_Int_inj"],"modifiers":null,"kind":"theorem","id":{"range":[5271,5286],"original":true}},{"value":{"range":[5558,5684],"original":true},"type":{"range":[5550,5557],"original":true},"signature":{"range":[5548,5557],"pp":" : Inv Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5345,5684],"pp":"/-- Whereas the book leaves the inverse of 0 undefined, it is more convenient in Lean to assign a\n  \"junk\" value to this inverse; we arbitrarily choose this junk value to be 0.\n-/\ninstance instInv : Inv Rat where\n  inv :=\n    Quotient.lift (fun ⟨a, b, h1⟩ ↦ b // a)\n      (by\n        sorry -- hint: split into the `a=0` and `a≠0` cases\n          )","original":true},"params":[],"name":["Section_4_2","Rat","instInv"],"modifiers":null,"kind":"instance","id":{"range":[5536,5547],"original":true}},{"value":{"range":[5758,5810],"original":true},"type":{"range":[5735,5757],"original":true},"signature":{"range":[5703,5757],"pp":" (a : ℤ) {b : ℤ} (hb : b ≠ 0) : (a // b)⁻¹ = b // a","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5686,5810],"pp":"theorem inv_eq (a : ℤ) {b : ℤ} (hb : b ≠ 0) : (a // b)⁻¹ = b // a := by convert Quotient.lift_mk _ _ _ <;> simp [hb]","original":false},"params":[{"type":[5706,5709],"ref":[5704,5705],"id":[5704,5705],"bi":"default"},{"type":[5714,5717],"ref":[5712,5713],"id":[5712,5713],"bi":"implicit"},{"type":[5724,5731],"ref":[5720,5722],"id":[5720,5722],"bi":"default"}],"name":["Section_4_2","Rat","inv_eq"],"modifiers":null,"kind":"theorem","id":{"range":[5692,5702],"original":true}},{"value":{"range":[5860,5866],"original":true},"type":{"range":[5843,5859],"original":true},"signature":{"range":[5841,5859],"pp":" : (0 : Rat)⁻¹ = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5812,5866],"pp":"@[simp]\ntheorem inv_zero : (0 : Rat)⁻¹ = 0 :=\n  rfl","original":true},"params":[],"name":["Section_4_2","Rat","inv_zero"],"modifiers":null,"kind":"theorem","id":{"range":[5828,5840],"original":true}},{"value":{"range":[5970,6669],"original":true},"type":{"range":[5957,5969],"original":true},"signature":{"range":[5955,5969],"pp":" : AddGroup Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[5868,6669],"pp":"/-- Proposition 4.2.4 (laws of algebra) / Exercise 4.2.3 -/\ninstance addGroup_inst : AddGroup Rat :=\n  AddGroup.ofLeftAxioms\n    (by\n      -- this proof is written to follow the structure of the original text.\n      \n      intro x y z\n      obtain ⟨a, b, hb, rfl⟩ := eq_diff x\n      obtain ⟨c, d, hd, rfl⟩ := eq_diff y\n      obtain ⟨e, f, hf, rfl⟩ := eq_diff z\n      have hbd : b * d ≠ 0 := Int.mul_ne_zero hb hd\n      have hdf : d * f ≠ 0 := Int.mul_ne_zero hd hf\n      have hbdf : b * d * f ≠ 0 := Int.mul_ne_zero hbd hf\n      rw [add_eq _ _ hb hd, add_eq _ _ hbd hf, add_eq _ _ hd hf, add_eq _ _ hb hdf, ← mul_assoc b, eq _ _ hbdf hbdf]\n      ring)\n    (by sorry) (by sorry)","original":true},"params":[],"name":["Section_4_2","Rat","addGroup_inst"],"modifiers":null,"kind":"instance","id":{"range":[5937,5954],"original":true}},{"value":{"range":[6780,6808],"original":true},"type":{"range":[6763,6779],"original":true},"signature":{"range":[6761,6779],"pp":" : AddCommGroup Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[6671,6808],"pp":"/-- Proposition 4.2.4 (laws of algebra) / Exercise 4.2.3 -/\ninstance instAddCommGroup : AddCommGroup Rat where add_comm := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","instAddCommGroup"],"modifiers":null,"kind":"instance","id":{"range":[6740,6760],"original":true}},{"value":{"range":[6915,7011],"original":true},"type":{"range":[6900,6914],"original":true},"signature":{"range":[6898,6914],"pp":" : CommMonoid Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[6810,7011],"pp":"/-- Proposition 4.2.4 (laws of algebra) / Exercise 4.2.3 -/\ninstance instCommMonoid : CommMonoid Rat where\n  mul_comm := by sorry\n  mul_assoc := by sorry\n  one_mul := by sorry\n  mul_one := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","instCommMonoid"],"modifiers":null,"kind":"instance","id":{"range":[6879,6897],"original":true}},{"value":{"range":[7114,7502],"original":true},"type":{"range":[7101,7113],"original":true},"signature":{"range":[7099,7113],"pp":" : CommRing Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[7013,7502],"pp":"/-- Proposition 4.2.4 (laws of algebra) / Exercise 4.2.3 -/\ninstance instCommRing : CommRing Rat where\n  left_distrib := by sorry\n  right_distrib := by sorry\n  zero_mul := by sorry\n  mul_zero := by sorry\n  mul_assoc := by\n    sorry\n      -- Usually CommRing will generate a natCast instance and a proof for this.\n        -- However, we are using a custom natCast for which `natCast_succ` cannot\n        -- be proven automatically by `rfl`. Luckily we have proven it already.\n      \n  natCast_succ := natCast_succ","original":true},"params":[],"name":["Section_4_2","Rat","instCommRing"],"modifiers":null,"kind":"instance","id":{"range":[7082,7098],"original":true}},{"value":{"range":[7543,7578],"original":true},"type":{"range":[7531,7542],"original":true},"signature":{"range":[7529,7542],"pp":" : RatCast Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[7504,7578],"pp":"instance instRatCast : RatCast Rat where ratCast q := q.num // q.den","original":true},"params":[],"name":["Section_4_2","Rat","instRatCast"],"modifiers":null,"kind":"instance","id":{"range":[7513,7528],"original":true}},{"value":{"range":[7649,7660],"original":true},"type":{"range":[7606,7648],"original":true},"signature":{"range":[7604,7648],"pp":" : Function.Injective (fun n : ℚ ↦ (n : Rat))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[7580,7660],"pp":"theorem ratCast_inj : Function.Injective (fun n : ℚ ↦ (n : Rat)) := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","ratCast_inj"],"modifiers":null,"kind":"theorem","id":{"range":[7588,7603],"original":true}},{"value":{"range":[7736,8021],"original":true},"type":{"range":[7717,7735],"original":true},"signature":{"range":[7685,7735],"pp":" (a : ℤ) {b : ℤ} (hb : b ≠ 0) : (a / b : ℚ) = a // b","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[7662,8021],"pp":"theorem coe_Rat_eq (a : ℤ) {b : ℤ} (hb : b ≠ 0) : (a / b : ℚ) = a // b :=\n  by\n  set q := (a / b : ℚ)\n  set num : ℤ := q.num\n  set den : ℤ := (q.den : ℤ)\n  have hden : den ≠ 0 := by simp [den, q.den_nz]\n  change num // den = a // b\n  rw [eq _ _ hden hb]\n  qify\n  have hq : num / den = q := Rat.num_div_den q\n  rwa [div_eq_div_iff] at hq <;> simp [hden, hb]","original":true},"params":[{"type":[7688,7691],"ref":[7686,7687],"id":[7686,7687],"bi":"default"},{"type":[7696,7699],"ref":[7694,7695],"id":[7694,7695],"bi":"implicit"},{"type":[7706,7713],"ref":[7702,7704],"id":[7702,7704],"bi":"default"}],"name":["Section_4_2","Rat","coe_Rat_eq"],"modifiers":null,"kind":"theorem","id":{"range":[7670,7684],"original":true}},{"value":{"range":[8110,8115],"original":true},"type":{"range":[8093,8109],"original":true},"signature":{"range":[8091,8109],"pp":" : DivInvMonoid Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8023,8115],"pp":"/-- Default definition of division -/\ninstance instDivInvMonoid : DivInvMonoid Rat where","original":true},"params":[],"name":["Section_4_2","Rat","instDivInvMonoid"],"modifiers":null,"kind":"instance","id":{"range":[8070,8090],"original":true}},{"value":{"range":[8165,8174],"original":true},"type":{"range":[8148,8164],"original":true},"signature":{"range":[8136,8164],"pp":" (q r : Rat) : q / r = q * r⁻¹","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8117,8174],"pp":"theorem div_eq (q r : Rat) : q / r = q * r⁻¹ := by rfl","original":true},"params":[{"type":[8141,8144],"ref":[8137,8138],"id":[8137,8138],"bi":"default"},{"type":[8141,8144],"ref":[8139,8140],"id":[8139,8140],"bi":"default"}],"name":["Section_4_2","Rat","div_eq"],"modifiers":null,"kind":"theorem","id":{"range":[8125,8135],"original":true}},{"value":{"range":[8271,8664],"original":true},"type":{"range":[8261,8270],"original":true},"signature":{"range":[8259,8270],"pp":" : Field Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8176,8664],"pp":"/-- Proposition 4.2.4 (laws of algebra) / Exercise 4.2.3 -/\ninstance instField : Field Rat where\n  exists_pair_ne := by sorry\n  mul_inv_cancel := by sorry\n  inv_zero := rfl\n  ratCast_def := by\n    intro q\n    set num := q.num\n    set den := q.den\n    have hden : (den : ℤ) ≠ 0 := by simp [den, q.den_nz]\n    rw [← Rat.num_div_den q]\n    convert coe_Rat_eq _ hden\n    rw [coe_Int_eq, coe_Nat_eq, div_eq, inv_eq, mul_eq, eq] <;> simp [num, den, q.den_nz]\n  qsmul := _\n  nnqsmul := _","original":true},"params":[],"name":["Section_4_2","Rat","instField"],"modifiers":null,"kind":"instance","id":{"range":[8245,8258],"original":true}},{"value":{"range":[8702,8713],"original":true},"type":{"range":[8676,8701],"original":true},"signature":{"range":[8674,8701],"pp":" : (3 // 4) / (5 // 6) = 9 // 10","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2"]},"ref":{"range":[8666,8713],"pp":"example : (3 // 4) / (5 // 6) = 9 // 10 := by sorry","original":true},"params":[],"name":["Section_4_2","_example"],"modifiers":null,"kind":"example","id":{"range":[8666,8673],"original":false}},{"value":{"range":[8751,8860],"original":true},"type":{"range":[8737,8750],"original":true},"signature":{"range":[8735,8750],"pp":" : ℤ →+* Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8715,8860],"pp":"def coe_int_hom : ℤ →+* Rat where\n  toFun n := (n : Rat)\n  map_zero' := rfl\n  map_one' := rfl\n  map_add' := by sorry\n  map_mul' := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","coe_int_hom"],"modifiers":null,"kind":"definition","id":{"range":[8719,8734],"original":true}},{"value":{"range":[8928,8971],"original":true},"type":{"range":[8923,8927],"original":true},"signature":{"range":[8913,8927],"pp":" (q : Rat) : Prop","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8862,8971],"pp":"/-- Definition 4.2.6 (positivity) -/\ndef isPos (q : Rat) : Prop :=\n  ∃ a b : ℤ, a > 0 ∧ b > 0 ∧ q = a / b","original":true},"params":[{"type":[8916,8919],"ref":[8914,8915],"id":[8914,8915],"bi":"default"}],"name":["Section_4_2","Rat","isPos"],"modifiers":null,"kind":"definition","id":{"range":[8903,8912],"original":true}},{"value":{"range":[9039,9071],"original":true},"type":{"range":[9034,9038],"original":true},"signature":{"range":[9024,9038],"pp":" (q : Rat) : Prop","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[8973,9071],"pp":"/-- Definition 4.2.6 (negativity) -/\ndef isNeg (q : Rat) : Prop :=\n  ∃ r : Rat, r.isPos ∧ q = -r","original":true},"params":[{"type":[9027,9030],"ref":[9025,9026],"id":[9025,9026],"bi":"default"}],"name":["Section_4_2","Rat","isNeg"],"modifiers":null,"kind":"definition","id":{"range":[9014,9023],"original":true}},{"value":{"range":[9200,9211],"original":true},"type":{"range":[9170,9199],"original":true},"signature":{"range":[9160,9199],"pp":" (x : Rat) : x = 0 ∨ x.isPos ∨ x.isNeg","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9073,9211],"pp":"/-- Lemma 4.2.7 (trichotomy of rationals) / Exercise 4.2.4 -/\ntheorem trichotomous (x : Rat) : x = 0 ∨ x.isPos ∨ x.isNeg := by sorry","original":true},"params":[{"type":[9163,9166],"ref":[9161,9162],"id":[9161,9162],"bi":"default"}],"name":["Section_4_2","Rat","trichotomous"],"modifiers":null,"kind":"theorem","id":{"range":[9143,9159],"original":true}},{"value":{"range":[9336,9347],"original":true},"type":{"range":[9314,9335],"original":true},"signature":{"range":[9304,9335],"pp":" (x : Rat) : ¬(x = 0 ∧ x.isPos)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9213,9347],"pp":"/-- Lemma 4.2.7 (trichotomy of rationals) / Exercise 4.2.4 -/\ntheorem not_zero_and_pos (x : Rat) : ¬(x = 0 ∧ x.isPos) := by sorry","original":true},"params":[{"type":[9307,9310],"ref":[9305,9306],"id":[9305,9306],"bi":"default"}],"name":["Section_4_2","Rat","not_zero_and_pos"],"modifiers":null,"kind":"theorem","id":{"range":[9283,9303],"original":true}},{"value":{"range":[9472,9483],"original":true},"type":{"range":[9450,9471],"original":true},"signature":{"range":[9440,9471],"pp":" (x : Rat) : ¬(x = 0 ∧ x.isNeg)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9349,9483],"pp":"/-- Lemma 4.2.7 (trichotomy of rationals) / Exercise 4.2.4 -/\ntheorem not_zero_and_neg (x : Rat) : ¬(x = 0 ∧ x.isNeg) := by sorry","original":true},"params":[{"type":[9443,9446],"ref":[9441,9442],"id":[9441,9442],"bi":"default"}],"name":["Section_4_2","Rat","not_zero_and_neg"],"modifiers":null,"kind":"theorem","id":{"range":[9419,9439],"original":true}},{"value":{"range":[9609,9620],"original":true},"type":{"range":[9585,9608],"original":true},"signature":{"range":[9575,9608],"pp":" (x : Rat) : ¬(x.isPos ∧ x.isNeg)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9485,9620],"pp":"/-- Lemma 4.2.7 (trichotomy of rationals) / Exercise 4.2.4 -/\ntheorem not_pos_and_neg (x : Rat) : ¬(x.isPos ∧ x.isNeg) := by sorry","original":true},"params":[{"type":[9578,9581],"ref":[9576,9577],"id":[9576,9577],"bi":"default"}],"name":["Section_4_2","Rat","not_pos_and_neg"],"modifiers":null,"kind":"theorem","id":{"range":[9555,9574],"original":true}},{"value":{"range":[9703,9732],"original":true},"type":{"range":[9696,9702],"original":true},"signature":{"range":[9694,9702],"pp":" : LT Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9622,9732],"pp":"/-- Definition 4.2.8 (Ordering of the rationals) -/\ninstance instLT : LT Rat where lt x y := (x - y).isNeg","original":true},"params":[],"name":["Section_4_2","Rat","instLT"],"modifiers":null,"kind":"instance","id":{"range":[9683,9693],"original":true}},{"value":{"range":[9815,9852],"original":true},"type":{"range":[9808,9814],"original":true},"signature":{"range":[9806,9814],"pp":" : LE Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9734,9852],"pp":"/-- Definition 4.2.8 (Ordering of the rationals) -/\ninstance instLE : LE Rat where le x y := (x < y) ∨ (x = y)","original":true},"params":[],"name":["Section_4_2","Rat","instLE"],"modifiers":null,"kind":"instance","id":{"range":[9795,9805],"original":true}},{"value":{"range":[9907,9916],"original":true},"type":{"range":[9885,9906],"original":true},"signature":{"range":[9873,9906],"pp":" (x y : Rat) : x < y ↔ (x - y).isNeg","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9854,9916],"pp":"theorem lt_iff (x y : Rat) : x < y ↔ (x - y).isNeg := by rfl","original":true},"params":[{"type":[9878,9881],"ref":[9874,9875],"id":[9874,9875],"bi":"default"},{"type":[9878,9881],"ref":[9876,9877],"id":[9876,9877],"bi":"default"}],"name":["Section_4_2","Rat","lt_iff"],"modifiers":null,"kind":"theorem","id":{"range":[9862,9872],"original":true}},{"value":{"range":[9980,9989],"original":true},"type":{"range":[9948,9979],"original":true},"signature":{"range":[9936,9979],"pp":" (x y : Rat) : x ≤ y ↔ (x < y) ∨ (x = y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9917,9989],"pp":"theorem le_iff (x y : Rat) : x ≤ y ↔ (x < y) ∨ (x = y) := by rfl","original":true},"params":[{"type":[9941,9944],"ref":[9937,9938],"id":[9937,9938],"bi":"default"},{"type":[9941,9944],"ref":[9939,9940],"id":[9939,9940],"bi":"default"}],"name":["Section_4_2","Rat","le_iff"],"modifiers":null,"kind":"theorem","id":{"range":[9925,9935],"original":true}},{"value":{"range":[10044,10055],"original":true},"type":{"range":[10022,10043],"original":true},"signature":{"range":[10010,10043],"pp":" (x y : Rat) : x > y ↔ (x - y).isPos","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[9991,10055],"pp":"theorem gt_iff (x y : Rat) : x > y ↔ (x - y).isPos := by sorry","original":true},"params":[{"type":[10015,10018],"ref":[10011,10012],"id":[10011,10012],"bi":"default"},{"type":[10015,10018],"ref":[10013,10014],"id":[10013,10014],"bi":"default"}],"name":["Section_4_2","Rat","gt_iff"],"modifiers":null,"kind":"theorem","id":{"range":[9999,10009],"original":true}},{"value":{"range":[10119,10130],"original":true},"type":{"range":[10087,10118],"original":true},"signature":{"range":[10075,10118],"pp":" (x y : Rat) : x ≥ y ↔ (x > y) ∨ (x = y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10056,10130],"pp":"theorem ge_iff (x y : Rat) : x ≥ y ↔ (x > y) ∨ (x = y) := by sorry","original":true},"params":[{"type":[10080,10083],"ref":[10076,10077],"id":[10076,10077],"bi":"default"},{"type":[10080,10083],"ref":[10078,10079],"id":[10078,10079],"bi":"default"}],"name":["Section_4_2","Rat","ge_iff"],"modifiers":null,"kind":"theorem","id":{"range":[10064,10074],"original":true}},{"value":{"range":[10260,10271],"original":true},"type":{"range":[10234,10259],"original":true},"signature":{"range":[10222,10259],"pp":" (x y : Rat) : x > y ∨ x < y ∨ x = y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10132,10271],"pp":"/-- Proposition 4.2.9(a) (order trichotomy) / Exercise 4.2.5 -/\ntheorem trichotomous' (x y : Rat) : x > y ∨ x < y ∨ x = y := by sorry","original":true},"params":[{"type":[10227,10230],"ref":[10223,10224],"id":[10223,10224],"bi":"default"},{"type":[10227,10230],"ref":[10225,10226],"id":[10225,10226],"bi":"default"}],"name":["Section_4_2","Rat","trichotomous'"],"modifiers":null,"kind":"theorem","id":{"range":[10204,10221],"original":true}},{"value":{"range":[10395,10406],"original":true},"type":{"range":[10375,10395],"original":true},"signature":{"range":[10363,10395],"pp":" (x y : Rat) : ¬(x > y ∧ x < y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10273,10406],"pp":"/-- Proposition 4.2.9(a) (order trichotomy) / Exercise 4.2.5 -/\ntheorem not_gt_and_lt (x y : Rat) : ¬(x > y ∧ x < y) := by sorry","original":true},"params":[{"type":[10368,10371],"ref":[10364,10365],"id":[10364,10365],"bi":"default"},{"type":[10368,10371],"ref":[10366,10367],"id":[10366,10367],"bi":"default"}],"name":["Section_4_2","Rat","not_gt_and_lt"],"modifiers":null,"kind":"theorem","id":{"range":[10345,10362],"original":true}},{"value":{"range":[10530,10541],"original":true},"type":{"range":[10510,10530],"original":true},"signature":{"range":[10498,10530],"pp":" (x y : Rat) : ¬(x > y ∧ x = y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10408,10541],"pp":"/-- Proposition 4.2.9(a) (order trichotomy) / Exercise 4.2.5 -/\ntheorem not_gt_and_eq (x y : Rat) : ¬(x > y ∧ x = y) := by sorry","original":true},"params":[{"type":[10503,10506],"ref":[10499,10500],"id":[10499,10500],"bi":"default"},{"type":[10503,10506],"ref":[10501,10502],"id":[10501,10502],"bi":"default"}],"name":["Section_4_2","Rat","not_gt_and_eq"],"modifiers":null,"kind":"theorem","id":{"range":[10480,10497],"original":true}},{"value":{"range":[10665,10676],"original":true},"type":{"range":[10645,10665],"original":true},"signature":{"range":[10633,10665],"pp":" (x y : Rat) : ¬(x < y ∧ x = y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10543,10676],"pp":"/-- Proposition 4.2.9(a) (order trichotomy) / Exercise 4.2.5 -/\ntheorem not_lt_and_eq (x y : Rat) : ¬(x < y ∧ x = y) := by sorry","original":true},"params":[{"type":[10638,10641],"ref":[10634,10635],"id":[10634,10635],"bi":"default"},{"type":[10638,10641],"ref":[10636,10637],"id":[10636,10637],"bi":"default"}],"name":["Section_4_2","Rat","not_lt_and_eq"],"modifiers":null,"kind":"theorem","id":{"range":[10615,10632],"original":true}},{"value":{"range":[10806,10817],"original":true},"type":{"range":[10782,10805],"original":true},"signature":{"range":[10770,10805],"pp":" (x y : Rat) : x < y ↔ (y - x).isPos","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10678,10817],"pp":"/-- Proposition 4.2.9(b) (order is anti-symmetric) / Exercise 4.2.5 -/\ntheorem antisymm (x y : Rat) : x < y ↔ (y - x).isPos := by sorry","original":true},"params":[{"type":[10775,10778],"ref":[10771,10772],"id":[10771,10772],"bi":"default"},{"type":[10775,10778],"ref":[10773,10774],"id":[10773,10774],"bi":"default"}],"name":["Section_4_2","Rat","antisymm"],"modifiers":null,"kind":"theorem","id":{"range":[10757,10769],"original":true}},{"value":{"range":[10953,10964],"original":true},"type":{"range":[10947,10952],"original":true},"signature":{"range":[10907,10952],"pp":" {x y z : Rat} (hxy : x < y) (hyz : y < z) : x < z","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10819,10964],"pp":"/-- Proposition 4.2.9(c) (order is transitive) / Exercise 4.2.5 -/\ntheorem lt_trans {x y z : Rat} (hxy : x < y) (hyz : y < z) : x < z := by sorry","original":true},"params":[{"type":[10914,10917],"ref":[10908,10909],"id":[10908,10909],"bi":"implicit"},{"type":[10914,10917],"ref":[10910,10911],"id":[10910,10911],"bi":"implicit"},{"type":[10914,10917],"ref":[10912,10913],"id":[10912,10913],"bi":"implicit"},{"type":[10925,10930],"ref":[10920,10923],"id":[10920,10923],"bi":"default"},{"type":[10938,10943],"ref":[10933,10936],"id":[10933,10936],"bi":"default"}],"name":["Section_4_2","Rat","lt_trans"],"modifiers":null,"kind":"theorem","id":{"range":[10894,10906],"original":true}},{"value":{"range":[11114,11125],"original":true},"type":{"range":[11100,11113],"original":true},"signature":{"range":[11067,11113],"pp":" {x y : Rat} (z : Rat) (hxy : x < y) : x + z < y + z","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[10966,11125],"pp":"/-- Proposition 4.2.9(d) (addition preserves order) / Exercise 4.2.5 -/\ntheorem add_lt_add_right {x y : Rat} (z : Rat) (hxy : x < y) : x + z < y + z := by sorry","original":true},"params":[{"type":[11072,11075],"ref":[11068,11069],"id":[11068,11069],"bi":"implicit"},{"type":[11072,11075],"ref":[11070,11071],"id":[11070,11071],"bi":"implicit"},{"type":[11080,11083],"ref":[11078,11079],"id":[11078,11079],"bi":"default"},{"type":[11091,11096],"ref":[11086,11089],"id":[11086,11089],"bi":"default"}],"name":["Section_4_2","Rat","add_lt_add_right"],"modifiers":null,"kind":"theorem","id":{"range":[11046,11066],"original":true}},{"value":{"range":[11298,11309],"original":true},"type":{"range":[11284,11297],"original":true},"signature":{"range":[11243,11297],"pp":" {x y z : Rat} (hxy : x < y) (hz : z.isPos) : x * z < y * z","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[11127,11309],"pp":"/-- Proposition 4.2.9(e) (positive multiplication preserves order) / Exercise 4.2.5 -/\ntheorem mul_lt_mul_right {x y z : Rat} (hxy : x < y) (hz : z.isPos) : x * z < y * z := by sorry","original":true},"params":[{"type":[11250,11253],"ref":[11244,11245],"id":[11244,11245],"bi":"implicit"},{"type":[11250,11253],"ref":[11246,11247],"id":[11246,11247],"bi":"implicit"},{"type":[11250,11253],"ref":[11248,11249],"id":[11248,11249],"bi":"implicit"},{"type":[11261,11266],"ref":[11256,11259],"id":[11256,11259],"bi":"default"},{"type":[11273,11280],"ref":[11269,11271],"id":[11269,11271],"bi":"default"}],"name":["Section_4_2","Rat","mul_lt_mul_right"],"modifiers":null,"kind":"theorem","id":{"range":[11222,11242],"original":true}},{"value":{"range":[11456,12399],"original":true},"type":{"range":[11408,11455],"original":true},"signature":{"range":[11406,11455],"pp":" : DecidableRel (· ≤ · : Rat → Rat → Prop)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[11311,12399],"pp":"/-- (Not from textbook) Establish the decidability of this order. -/\ninstance decidableRel : DecidableRel (· ≤ · : Rat → Rat → Prop) :=\n  by\n  intro n m\n  have : ∀ (n : PreRat) (m : PreRat), Decidable (Quotient.mk PreRat.instSetoid n ≤ Quotient.mk PreRat.instSetoid m) :=\n    by\n    intro ⟨a, b, hb⟩\n      ⟨c, d, hd⟩\n        -- at this point, the goal is morally `Decidable(a//b ≤ c//d)`, but there are technical\n            -- issues due to the junk value of formal division when the denominator vanishes.\n            -- It may be more convenient to avoid formal division and work directly with `Quotient.mk`.\n        \n    cases (0 : ℤ).decLe (b * d) with\n    | isTrue hbd =>\n      cases (a * d).decLe (b * c) with\n      | isTrue h =>\n        apply isTrue\n        sorry\n      | isFalse h =>\n        apply isFalse\n        sorry\n    | isFalse hbd =>\n      cases (b * c).decLe (a * d) with\n      | isTrue h =>\n        apply isTrue\n        sorry\n      | isFalse h =>\n        apply isFalse\n        sorry\n  exact Quotient.recOnSubsingleton₂ n m this","original":true},"params":[],"name":["Section_4_2","Rat","decidableRel"],"modifiers":null,"kind":"instance","id":{"range":[11389,11405],"original":true}},{"value":{"range":[12519,12666],"original":true},"type":{"range":[12503,12518],"original":true},"signature":{"range":[12501,12518],"pp":" : LinearOrder Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[12401,12666],"pp":"/-- (Not from textbook) Rat has the structure of a linear ordering. -/\ninstance instLinearOrder : LinearOrder Rat where\n  le_refl := sorry\n  le_trans := sorry\n  lt_iff_le_not_ge := sorry\n  le_antisymm := sorry\n  le_total := sorry\n  toDecidableLE := decidableRel","original":true},"params":[],"name":["Section_4_2","Rat","instLinearOrder"],"modifiers":null,"kind":"instance","id":{"range":[12481,12500],"original":true}},{"value":{"range":[12806,13009],"original":true},"type":{"range":[12782,12805],"original":true},"signature":{"range":[12780,12805],"pp":" : IsStrictOrderedRing Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[12668,13009],"pp":"/-- (Not from textbook) Rat has the structure of a strict ordered ring. -/\ninstance instIsStrictOrderedRing : IsStrictOrderedRing Rat\n    where\n  add_le_add_left := by sorry\n  add_le_add_right := by sorry\n  mul_lt_mul_of_pos_left := by sorry\n  mul_lt_mul_of_pos_right := by sorry\n  le_of_add_le_add_left := by sorry\n  zero_le_one := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","instIsStrictOrderedRing"],"modifiers":null,"kind":"instance","id":{"range":[12752,12779],"original":true}},{"value":{"range":[13124,13137],"original":true},"type":{"range":[13110,13123],"original":true},"signature":{"range":[13069,13123],"pp":" (x y z : Rat) (hxy : x < y) (hz : z.isNeg) : x * z > y * z","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[13011,13137],"pp":"/-- Exercise 4.2.6 -/\ntheorem mul_lt_mul_right_of_neg (x y z : Rat) (hxy : x < y) (hz : z.isNeg) : x * z > y * z := by sorry","original":true},"params":[{"type":[13076,13079],"ref":[13070,13071],"id":[13070,13071],"bi":"default"},{"type":[13076,13079],"ref":[13072,13073],"id":[13072,13073],"bi":"default"},{"type":[13076,13079],"ref":[13074,13075],"id":[13074,13075],"bi":"default"},{"type":[13087,13092],"ref":[13082,13085],"id":[13082,13085],"bi":"default"},{"type":[13099,13106],"ref":[13095,13097],"id":[13095,13097],"bi":"default"}],"name":["Section_4_2","Rat","mul_lt_mul_right_of_neg"],"modifiers":null,"kind":"theorem","id":{"range":[13041,13068],"original":true}},{"value":{"range":[13329,13486],"original":true},"type":{"range":[13317,13328],"original":true},"signature":{"range":[13315,13328],"pp":" : Rat ≃ ℚ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[13140,13486],"pp":"/-- Not in textbook: create an equivalence between Rat and ℚ. This requires some familiarity with\n  the API for Mathlib's version of the rationals.\n-/\nabbrev equivRat : Rat ≃ ℚ where\n  toFun := Quotient.lift (fun ⟨a, b, h⟩ ↦ a / b) (by sorry)\n  invFun := fun n : ℚ ↦ (n : Rat)\n  left_inv n := sorry\n  right_inv n := sorry","original":true},"params":[],"name":["Section_4_2","Rat","equivRat"],"modifiers":null,"kind":"abbrev","id":{"range":[13302,13314],"original":true}},{"value":{"range":[13581,13635],"original":true},"type":{"range":[13568,13580],"original":true},"signature":{"range":[13566,13580],"pp":" : Rat ≃o ℚ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[13488,13635],"pp":"/-- Not in textbook: equivalence preserves order -/\nabbrev equivRat_order : Rat ≃o ℚ where\n  toEquiv := equivRat\n  map_rel_iff' := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","equivRat_order"],"modifiers":null,"kind":"abbrev","id":{"range":[13547,13565],"original":true}},{"value":{"range":[13740,13813],"original":true},"type":{"range":[13726,13739],"original":true},"signature":{"range":[13724,13739],"pp":" : Rat ≃+* ℚ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[13637,13813],"pp":"/-- Not in textbook: equivalence preserves ring operations -/\nabbrev equivRat_ring : Rat ≃+* ℚ where\n  toEquiv := equivRat\n  map_add' := by sorry\n  map_mul' := by sorry","original":true},"params":[],"name":["Section_4_2","Rat","equivRat_ring"],"modifiers":null,"kind":"abbrev","id":{"range":[13706,13723],"original":true}},{"value":{"range":[13964,13989],"original":true},"type":{"range":[13950,13963],"original":true},"signature":{"range":[13948,13963],"pp":" : ℚ ≃+* Rat","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Section_4_2","Rat"],["Section_4_2"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Section_4_2","Rat"]},"ref":{"range":[13815,13989],"pp":"/-- (Not from textbook) The textbook rationals are isomorphic (as a field) to the Mathlib rationals.\n-/\ndef equivRat_ring_symm : ℚ ≃+* Rat :=\n  Rat.equivRat_ring.symm","original":true},"params":[],"name":["Section_4_2","Rat","equivRat_ring_symm"],"modifiers":null,"kind":"definition","id":{"range":[13925,13947],"original":true}}]
