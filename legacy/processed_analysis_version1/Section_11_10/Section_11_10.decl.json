[{"value":{"range":[1177,1192],"original":true},"type":{"range":[1055,1176],"original":true},"signature":{"range":[810,1176],"pp":" {a b : ℝ} (hab : a ≤ b) {F G : ℝ → ℝ} (hF : DifferentiableOn ℝ F (Icc a b)) (hG : DifferentiableOn ℝ G (Icc a b))\n  (hF' : IntegrableOn (derivWithin F (Icc a b)) (Icc a b)) (hG' : IntegrableOn (derivWithin G (Icc a b)) (Icc a b)) :\n  integ (F * derivWithin G (Icc a b)) (Icc a b) = F b * G b - F a * G a - integ (G * derivWithin F (Icc a b)) (Icc a b)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11"]},"ref":{"range":[706,1192],"pp":"/-- Proposition 11.10.1 (Integration by parts formula) / Exercise 11.10.1 -/\ntheorem integ_of_mul_deriv {a b : ℝ} (hab : a ≤ b) {F G : ℝ → ℝ} (hF : DifferentiableOn ℝ F (Icc a b))\n    (hG : DifferentiableOn ℝ G (Icc a b)) (hF' : IntegrableOn (derivWithin F (Icc a b)) (Icc a b))\n    (hG' : IntegrableOn (derivWithin G (Icc a b)) (Icc a b)) :\n    integ (F * derivWithin G (Icc a b)) (Icc a b) =\n      F b * G b - F a * G a - integ (G * derivWithin F (Icc a b)) (Icc a b) :=\n  by sorry","original":true},"params":[{"type":[815,818],"ref":[811,812],"id":[811,812],"bi":"implicit"},{"type":[815,818],"ref":[813,814],"id":[813,814],"bi":"implicit"},{"type":[826,833],"ref":[821,824],"id":[821,824],"bi":"default"},{"type":[841,852],"ref":[836,837],"id":[836,837],"bi":"implicit"},{"type":[841,852],"ref":[838,839],"id":[838,839],"bi":"implicit"},{"type":[861,893],"ref":[857,859],"id":[857,859],"bi":"default"},{"type":[901,933],"ref":[896,898],"id":[896,898],"bi":"default"},{"type":[943,991],"ref":[938,941],"id":[938,941],"bi":"default"},{"type":[1001,1049],"ref":[996,999],"id":[996,999],"bi":"default"}],"name":["Chapter11","integ_of_mul_deriv"],"modifiers":null,"kind":"theorem","id":{"range":[791,809],"original":true}},{"value":{"range":[1694,3615],"original":true},"type":{"range":[1551,1693],"original":true},"signature":{"range":[1345,1693],"pp":" {a b : ℝ} {α f : ℝ → ℝ} (hα_diff : DifferentiableOn ℝ α (Icc a b)) (hαcont : Continuous α)\n  (hα' : IntegrableOn (derivWithin α (Icc a b)) (Icc a b)) (hf : PiecewiseConstantOn f (Icc a b)) :\n  IntegrableOn (f * derivWithin α (Icc a b)) (Icc a b) ∧\n    Chapter11.integ (f * derivWithin α (Icc a b)) (Icc a b) = RS_integ f (Icc a b) α","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11","PiecewiseConstantOn"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11","PiecewiseConstantOn"]},"ref":{"range":[1194,3615],"pp":"/-- Theorem 11.10.2.  Need to add continuity of α due to our conventions on α-length -/\ntheorem RS_integ_eq_integ_of_mul_deriv {a b : ℝ} {α f : ℝ → ℝ} (hα_diff : DifferentiableOn ℝ α (Icc a b))\n    (hαcont : Continuous α) (hα' : IntegrableOn (derivWithin α (Icc a b)) (Icc a b))\n    (hf : PiecewiseConstantOn f (Icc a b)) :\n    IntegrableOn (f * derivWithin α (Icc a b)) (Icc a b) ∧\n      Chapter11.integ (f * derivWithin α (Icc a b)) (Icc a b) = RS_integ f (Icc a b) α :=\n  by\n  -- This proof is adapted from the structure of the original text.\n  \n  set α' := derivWithin α (Icc a b)\n  have hf_integ : IntegrableOn f (Icc a b) := (integ_of_piecewise_const hf).1\n  observe hfα'_integ : IntegrableOn (f * α') (Icc a b)\n  refine ⟨hfα'_integ, ?_⟩\n  choose P hP using hf\n  rw [PiecewiseConstantOn.RS_integ_def hP α, hfα'_integ.split P]\n  apply Finset.sum_congr rfl; intro J hJ\n  calc\n    _ = Chapter11.integ ((constant_value_on f (J : Set ℝ)) • α') J :=\n      by\n      apply Chapter11.integ_congr; intro x hx\n      simp only [Pi.mul_apply, Pi.smul_apply, smul_eq_mul]; congr\n      exact (hP J hJ).eq hx\n    _ = constant_value_on f (J : Set ℝ) * Chapter11.integ α' J := ((hα'.mono' (P.contains _ hJ)).smul _).2\n    _ = _ := by\n      congr\n      have hJsub (hJab : J.a ≤ J.b) : J ⊆ Ioo (J.a - 1) (J.b + 1) :=\n        (subset_Icc J).trans (by simp [subset_iff, Set.Icc_subset_Ioo_iff hJab])\n      obtain hJab | hJab := le_iff_eq_or_lt.mp (length_nonneg J)\n      . rw [(integ_on_subsingleton hJab.symm).2]\n        simp [le_iff_lt_or_eq] at hJab; obtain hJab | hJab := hJab\n        . rw [α_length_of_empty _ (empty_of_lt hJab)]\n        rw [α_length_of_cts _ _ _ (hJsub _) hαcont.continuousOn] <;> grind\n      simp [length] at hJab\n      rw [α_length_of_cts ?_ ?_ ?_ (hJsub ?_) hαcont.continuousOn]\n      . have : Icc J.a J.b ⊆ Icc a b :=\n          by\n          have := closure_mono $ (subset_iff _ _).mp $ (Ioo_subset J).trans $ P.contains _ hJ\n          simpa [closure_Ioo (show J.a ≠ J.b by linarith), subset_iff] using this\n        calc\n          _ = Chapter11.integ α' (Icc J.a J.b) := (hα'.mono' this).eq (subset_Icc J) rfl rfl\n          _ = _ := by\n            convert integ_eq_antideriv_sub (by order) (hα'.mono' this) _\n            apply AntiderivOn.mono ⟨hα_diff, _⟩ this\n            intros; solve_by_elim [DifferentiableWithinAt.hasDerivWithinAt]\n      all_goals linarith","original":true},"params":[{"type":[1350,1353],"ref":[1346,1347],"id":[1346,1347],"bi":"implicit"},{"type":[1350,1353],"ref":[1348,1349],"id":[1348,1349],"bi":"implicit"},{"type":[1361,1372],"ref":[1356,1358],"id":[1356,1358],"bi":"implicit"},{"type":[1361,1372],"ref":[1359,1360],"id":[1359,1360],"bi":"implicit"},{"type":[1387,1420],"ref":[1377,1385],"id":[1377,1385],"bi":"default"},{"type":[1432,1445],"ref":[1423,1430],"id":[1423,1430],"bi":"default"},{"type":[1456,1505],"ref":[1450,1454],"id":[1450,1454],"bi":"default"},{"type":[1514,1545],"ref":[1510,1512],"id":[1510,1512],"bi":"default"}],"name":["Chapter11","PiecewiseConstantOn","RS_integ_eq_integ_of_mul_deriv"],"modifiers":null,"kind":"theorem","id":{"range":[1292,1342],"original":true}},{"value":{"range":[4053,6221],"original":true},"type":{"range":[3920,4052],"original":true},"signature":{"range":[3683,4052],"pp":" {a b : ℝ} (hab : a < b) {α f : ℝ → ℝ} (hα : Monotone α) (hα_diff : DifferentiableOn ℝ α (Icc a b))\n  (hαcont : Continuous α) (hα' : IntegrableOn (derivWithin α (Icc a b)) (Icc a b))\n  (hf : RS_IntegrableOn f (Icc a b) α) :\n  IntegrableOn (f * derivWithin α (Icc a b)) (Icc a b) ∧\n    integ (f * derivWithin α (Icc a b)) (Icc a b) = RS_integ f (Icc a b) α","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11"]},"ref":{"range":[3617,6221],"pp":"/-- Corollary 11.10.3 -/\ntheorem RS_integ_eq_integ_of_mul_deriv {a b : ℝ} (hab : a < b) {α f : ℝ → ℝ} (hα : Monotone α)\n    (hα_diff : DifferentiableOn ℝ α (Icc a b)) (hαcont : Continuous α)\n    (hα' : IntegrableOn (derivWithin α (Icc a b)) (Icc a b)) (hf : RS_IntegrableOn f (Icc a b) α) :\n    IntegrableOn (f * derivWithin α (Icc a b)) (Icc a b) ∧\n      integ (f * derivWithin α (Icc a b)) (Icc a b) = RS_integ f (Icc a b) α :=\n  by\n  -- This proof is adapted from the structure of the original text.\n  \n  set α' := derivWithin α (Icc a b)\n  have hfα'_bound : BddOn (f * α') (Icc a b) := by\n    have ⟨M, hM⟩ := hf.1; have ⟨N, hN⟩ := hα'.1\n    use M * N; intro x hx; specialize hM _ hx; specialize hN _ hx\n    simp [abs_mul]; gcongr; linarith [abs_nonneg (f x)]\n  have hα'_nonneg : MajorizesOn α' 0 (Icc a b) := by\n    intro x hx\n    convert ge_iff_le.mp (derivative_of_monotone _ _ hα (hα_diff x hx))\n    rw [← mem_closure_iff_clusterPt]\n    simp at hx\n    obtain h | h := le_iff_lt_or_eq.mp hx.1\n    . apply closure_mono (s := .Ico a x) _\n      . simp [closure_Ico (show a ≠ x by linarith), hx.1]\n      intro _ _; simp_all; grind\n    apply closure_mono (s := .Ioc x b) _\n    . simp [closure_Ioc (show x ≠ b by linarith), hx.2]\n    intro _ _; simp_all\n  have h0 := hf.2\n  have h1 : RS_integ f (Icc a b) α ≤ lower_integral (f * α') (Icc a b) :=\n    by\n    apply le_of_forall_sub_le; intro ε hε\n    have ⟨h, hhminor, hhconst, hh⟩ :=\n      gt_of_lt_lower_RS_integral hf.1 hα (show RS_integ f (Icc a b) α - ε < lower_RS_integral f (Icc a b) α by linarith)\n    have := hhconst.RS_integ_eq_integ_of_mul_deriv hα_diff hαcont hα'\n    rw [← this.2] at hh\n    replace : lower_integral (h * α') (Icc a b) = integ (h * α') (Icc a b) := this.1.2\n    have why : lower_integral (h * α') (Icc a b) ≤ lower_integral (f * α') (Icc a b) := by sorry\n    linarith\n  have h2 : upper_integral (f * α') (Icc a b) ≤ RS_integ f (Icc a b) α :=\n    by\n    apply le_of_forall_pos_le_add; intro ε hε\n    have ⟨h, hhmajor, hhconst, hh⟩ :=\n      lt_of_gt_upper_RS_integral hf.1 hα (show upper_RS_integral f (Icc a b) α + ε > RS_integ f (Icc a b) α by linarith)\n    have := hhconst.RS_integ_eq_integ_of_mul_deriv hα_diff hαcont hα'\n    rw [← this.2] at hh\n    have why : upper_integral (f * α') (Icc a b) ≤ upper_integral (h * α') (Icc a b) := by sorry\n    linarith\n  have h3 : lower_integral (f * α') (Icc a b) ≤ upper_integral (f * α') (Icc a b) := lower_integral_le_upper hfα'_bound\n  refine ⟨⟨hfα'_bound, ?_⟩, ?_⟩ <;> linarith","original":true},"params":[{"type":[3688,3691],"ref":[3684,3685],"id":[3684,3685],"bi":"implicit"},{"type":[3688,3691],"ref":[3686,3687],"id":[3686,3687],"bi":"implicit"},{"type":[3699,3704],"ref":[3694,3697],"id":[3694,3697],"bi":"default"},{"type":[3712,3723],"ref":[3707,3709],"id":[3707,3709],"bi":"implicit"},{"type":[3712,3723],"ref":[3710,3711],"id":[3710,3711],"bi":"implicit"},{"type":[3731,3742],"ref":[3726,3729],"id":[3726,3729],"bi":"default"},{"type":[3757,3790],"ref":[3747,3755],"id":[3747,3755],"bi":"default"},{"type":[3802,3815],"ref":[3793,3800],"id":[3793,3800],"bi":"default"},{"type":[3826,3875],"ref":[3820,3824],"id":[3820,3824],"bi":"default"},{"type":[3884,3914],"ref":[3880,3882],"id":[3880,3882],"bi":"default"}],"name":["Chapter11","RS_integ_eq_integ_of_mul_deriv"],"modifiers":null,"kind":"theorem","id":{"range":[3650,3680],"original":true}},{"value":{"range":[6565,8825],"original":true},"type":{"range":[6453,6564],"original":true},"signature":{"range":[6307,6564],"pp":" {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_cont : Continuous φ) (hφ_mono : Monotone φ)\n  (hf : PiecewiseConstantOn f (Icc (φ a) (φ b))) :\n  PiecewiseConstantOn (f ∘ φ) (Icc a b) ∧ RS_integ (f ∘ φ) (Icc a b) φ = integ f (Icc (φ a) (φ b))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11","PiecewiseConstantOn"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11","PiecewiseConstantOn"]},"ref":{"range":[6223,8825],"pp":"/-- Lemma 11.10.5 / Exercise 11.10.2-/\ntheorem RS_integ_of_comp {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_cont : Continuous φ) (hφ_mono : Monotone φ)\n    (hf : PiecewiseConstantOn f (Icc (φ a) (φ b))) :\n    PiecewiseConstantOn (f ∘ φ) (Icc a b) ∧ RS_integ (f ∘ φ) (Icc a b) φ = integ f (Icc (φ a) (φ b)) := by\n  -- This proof is adapted from the structure of the original text.\n  \n  choose P' hf using hf\n  set P := P'.remove_empty\n  replace hf : PiecewiseConstantWith f P := by intro J hJ;\n    simp [P, Partition.remove_empty, Partition.instMembership] at hJ; exact hf J hJ.1\n  rw [integ_def hf]\n  unfold PiecewiseConstantWith.integ\n  set φ_inv : P.intervals → Set ℝ := fun J ↦ {x : ℝ | x ∈ Set.Icc a b ∧ φ x ∈ (J : Set ℝ)}\n  have hφ_inv_bounded (J : P.intervals) : Bornology.IsBounded (φ_inv J) := by\n    apply Bornology.IsBounded.subset (Icc_bounded a b); intro _; aesop\n  have hφ_inv_connected (J : P.intervals) : (φ_inv J).OrdConnected := by sorry\n  set φ_inv' : P.intervals → BoundedInterval := fun J ↦\n    ((BoundedInterval.ordConnected_iff _).mp ⟨hφ_inv_bounded J, hφ_inv_connected J⟩).choose\n  have hφ_inv' (J : P.intervals) : φ_inv J = φ_inv' J :=\n    ((BoundedInterval.ordConnected_iff _).mp ⟨hφ_inv_bounded J, hφ_inv_connected J⟩).choose_spec\n  have hφ_inv_nonempty (J : P.intervals) : (φ_inv J).Nonempty := by sorry\n  have hφ_inv_const {J : P.intervals} :\n    ConstantOn (f ∘ φ) (φ_inv' J) ∧ constant_value_on (f ∘ φ) (φ_inv' J) = constant_value_on f J := by sorry\n  set Q : Partition (Icc a b) :=\n    { intervals := .image φ_inv' .univ\n      exists_unique x := by sorry\n      contains K hK := by sorry }\n  have hfφ_piecewise : PiecewiseConstantWith (f ∘ φ) Q := by sorry\n  have hfφ_piecewise' : PiecewiseConstantOn (f ∘ φ) (Icc a b) := ⟨Q, hfφ_piecewise⟩\n  refine ⟨hfφ_piecewise', ?_⟩\n  rw [RS_integ_def hfφ_piecewise]\n  unfold PiecewiseConstantWith.RS_integ\n  rw [Finset.sum_image, ← Finset.sum_coe_sort (s := P.intervals)]\n  . apply Finset.sum_congr rfl\n    intro J _\n    congr 1\n    . exact hφ_inv_const.2\n    sorry\n  intro J _ K _ hJK\n  set x := (hφ_inv_nonempty J).some\n  have h1 : x ∈ φ_inv J := (hφ_inv_nonempty J).some_mem\n  have h2 : x ∈ φ_inv K := by rwa [hφ_inv' J, hJK, ← hφ_inv' K] at h1\n  simp [φ_inv] at h1 h2\n  have h3 : φ x ∈ Icc (φ a) (φ b) := by\n    have := P.contains _ J.property\n    simp only [subset_iff, mem_iff] at this ⊢\n    exact this h1.2\n  ext; apply (P.exists_unique _ h3).unique <;> simp [J.property, K.property, mem_iff, h1, h2]","original":true},"params":[{"type":[6312,6315],"ref":[6308,6309],"id":[6308,6309],"bi":"implicit"},{"type":[6312,6315],"ref":[6310,6311],"id":[6310,6311],"bi":"implicit"},{"type":[6323,6328],"ref":[6318,6321],"id":[6318,6321],"bi":"default"},{"type":[6336,6347],"ref":[6331,6333],"id":[6331,6333],"bi":"implicit"},{"type":[6336,6347],"ref":[6334,6335],"id":[6334,6335],"bi":"implicit"},{"type":[6362,6375],"ref":[6352,6360],"id":[6352,6360],"bi":"default"},{"type":[6388,6399],"ref":[6378,6386],"id":[6378,6386],"bi":"default"},{"type":[6406,6447],"ref":[6402,6404],"id":[6402,6404],"bi":"default"}],"name":["Chapter11","PiecewiseConstantOn","RS_integ_of_comp"],"modifiers":null,"kind":"theorem","id":{"range":[6270,6306],"original":true}},{"value":{"range":[9160,10868],"original":true},"type":{"range":[9051,9159],"original":true},"signature":{"range":[8911,9159],"pp":" {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_cont : Continuous φ) (hφ_mono : Monotone φ)\n  (hf : IntegrableOn f (Icc (φ a) (φ b))) :\n  RS_IntegrableOn (f ∘ φ) (Icc a b) φ ∧ RS_integ (f ∘ φ) (Icc a b) φ = integ f (Icc (φ a) (φ b))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11"]},"ref":{"range":[8827,10868],"pp":"/-- Proposition 11.10.6 (Change of variables formula II)-/\ntheorem RS_integ_of_comp {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_cont : Continuous φ) (hφ_mono : Monotone φ)\n    (hf : IntegrableOn f (Icc (φ a) (φ b))) :\n    RS_IntegrableOn (f ∘ φ) (Icc a b) φ ∧ RS_integ (f ∘ φ) (Icc a b) φ = integ f (Icc (φ a) (φ b)) := by\n  -- This proof is adapted from the structure of the original text.\n  \n  have hf_bdd := hf.1\n  have hfφ_bdd : BddOn (f ∘ φ) (Icc a b) := by sorry\n  have heq : lower_integral f (Icc (φ a) (φ b)) = upper_integral f (Icc (φ a) (φ b)) := hf.2\n  have hupper : upper_RS_integral (f ∘ φ) (Icc a b) φ ≤ upper_integral f (Icc (φ a) (φ b)) :=\n    by\n    apply le_of_forall_pos_le_add\n    intro ε hε\n    choose f_up hf_upmajor hf_upconst hf_up using\n      lt_of_gt_upper_integral hf.1 (show upper_integral f (Icc (φ a) (φ b)) + ε > integ f (Icc (φ a) (φ b)) by grind)\n    have hpc := PiecewiseConstantOn.RS_integ_of_comp hab hφ_cont hφ_mono hf_upconst\n    rw [← hpc.2] at hf_up\n    have : MajorizesOn (f_up ∘ φ) (f ∘ φ) (Icc a b) := by intro _ _; simp at *; apply hf_upmajor; aesop\n    linarith [upper_RS_integral_le_integ hfφ_bdd this hpc.1 hφ_mono]\n  have hlower : lower_integral f (Icc (φ a) (φ b)) ≤ lower_RS_integral (f ∘ φ) (Icc a b) φ :=\n    by\n    apply le_of_forall_sub_le\n    intro ε hε\n    choose f_low hf_lowminor hf_lowconst hf_low using\n      gt_of_lt_lower_integral hf.1\n        (show lower_integral f (Icc (φ a) (φ b)) - ε < lower_integral f (Icc (φ a) (φ b)) by grind)\n    have hpc := PiecewiseConstantOn.RS_integ_of_comp hab hφ_cont hφ_mono hf_lowconst\n    rw [← hpc.2] at hf_low\n    have : MinorizesOn (f_low ∘ φ) (f ∘ φ) (Icc a b) := by intro _ _; simp at *; apply hf_lowminor; aesop\n    linarith [integ_le_lower_RS_integral hfφ_bdd this hpc.1 hφ_mono]\n  have hle : lower_RS_integral (f ∘ φ) (Icc a b) φ ≤ upper_RS_integral (f ∘ φ) (Icc a b) φ :=\n    lower_RS_integral_le_upper hfφ_bdd hφ_mono\n  refine ⟨⟨hfφ_bdd, ?_⟩, ?_⟩ <;> linarith","original":true},"params":[{"type":[8916,8919],"ref":[8912,8913],"id":[8912,8913],"bi":"implicit"},{"type":[8916,8919],"ref":[8914,8915],"id":[8914,8915],"bi":"implicit"},{"type":[8927,8932],"ref":[8922,8925],"id":[8922,8925],"bi":"default"},{"type":[8941,8952],"ref":[8935,8937],"id":[8935,8937],"bi":"implicit"},{"type":[8941,8952],"ref":[8938,8939],"id":[8938,8939],"bi":"implicit"},{"type":[8967,8980],"ref":[8957,8965],"id":[8957,8965],"bi":"default"},{"type":[8993,9004],"ref":[8983,8991],"id":[8983,8991],"bi":"default"},{"type":[9011,9045],"ref":[9007,9009],"id":[9007,9009],"bi":"default"}],"name":["Chapter11","RS_integ_of_comp"],"modifiers":null,"kind":"theorem","id":{"range":[8894,8910],"original":true}},{"value":{"range":[11357,11531],"original":true},"type":{"range":[11202,11356],"original":true},"signature":{"range":[10952,11356],"pp":" {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_diff : DifferentiableOn ℝ φ (Icc a b)) (hφ_cont : Continuous φ)\n  (hφ_mono : Monotone φ) (hφ' : IntegrableOn (derivWithin φ (Icc a b)) (Icc a b))\n  (hf : IntegrableOn f (Icc (φ a) (φ b))) :\n  IntegrableOn (f ∘ φ * derivWithin φ (Icc a b)) (Icc a b) ∧\n    integ (f ∘ φ * derivWithin φ (Icc a b)) (Icc a b) = integ f (Icc (φ a) (φ b))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11"]},"ref":{"range":[10870,11531],"pp":"/-- Proposition 11.10.7 (Change of variables formula III)-/\ntheorem integ_of_comp {a b : ℝ} (hab : a < b) {φ f : ℝ → ℝ} (hφ_diff : DifferentiableOn ℝ φ (Icc a b))\n    (hφ_cont : Continuous φ) (hφ_mono : Monotone φ) (hφ' : IntegrableOn (derivWithin φ (Icc a b)) (Icc a b))\n    (hf : IntegrableOn f (Icc (φ a) (φ b))) :\n    IntegrableOn (f ∘ φ * derivWithin φ (Icc a b)) (Icc a b) ∧\n      integ (f ∘ φ * derivWithin φ (Icc a b)) (Icc a b) = integ f (Icc (φ a) (φ b)) :=\n  by\n  have h1 := RS_integ_of_comp hab hφ_cont hφ_mono hf\n  have h2 := RS_integ_eq_integ_of_mul_deriv hab hφ_mono hφ_diff hφ_cont hφ' h1.1\n  refine ⟨h2.1, by aesop⟩","original":true},"params":[{"type":[10957,10960],"ref":[10953,10954],"id":[10953,10954],"bi":"implicit"},{"type":[10957,10960],"ref":[10955,10956],"id":[10955,10956],"bi":"implicit"},{"type":[10968,10973],"ref":[10963,10966],"id":[10963,10966],"bi":"default"},{"type":[10982,10993],"ref":[10976,10978],"id":[10976,10978],"bi":"implicit"},{"type":[10982,10993],"ref":[10979,10980],"id":[10979,10980],"bi":"implicit"},{"type":[11008,11041],"ref":[10998,11006],"id":[10998,11006],"bi":"default"},{"type":[11056,11069],"ref":[11046,11054],"id":[11046,11054],"bi":"default"},{"type":[11082,11093],"ref":[11072,11080],"id":[11072,11080],"bi":"default"},{"type":[11104,11153],"ref":[11098,11102],"id":[11098,11102],"bi":"default"},{"type":[11162,11196],"ref":[11158,11160],"id":[11158,11160],"bi":"default"}],"name":["Chapter11","integ_of_comp"],"modifiers":null,"kind":"theorem","id":{"range":[10938,10951],"original":true}},{"value":{"range":[11755,11768],"original":true},"type":{"range":[11639,11754],"original":true},"signature":{"range":[11564,11754],"pp":" {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : IntegrableOn f (Icc a b)) :\n  IntegrableOn (fun x ↦ f (-x)) (Icc (-b) (-a)) ∧ integ (fun x ↦ f (-x)) (Icc (-b) (-a)) = -integ f (Icc a b)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter11","BoundedInterval"],["Chapter10"],["Chapter9"],["Chapter11"]],"openDecl":[{"simple":{"namespace":["Chapter10"],"except":[]}},{"simple":{"namespace":["Chapter9"],"except":[]}},{"simple":{"namespace":["Chapter11","BoundedInterval"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter11"]},"ref":{"range":[11533,11768],"pp":"/-- Exercise 11.10.3-/\nexample {a b : ℝ} (hab : a < b) {f : ℝ → ℝ} (hf : IntegrableOn f (Icc a b)) :\n    IntegrableOn (fun x ↦ f (-x)) (Icc (-b) (-a)) ∧ integ (fun x ↦ f (-x)) (Icc (-b) (-a)) = -integ f (Icc a b) := by\n  sorry\n    /- Exercise 11.10.4: state and prove a version of `integ_of_comp` in which `φ` is `Antitone` rather than `Monotone`. -/\n    ","original":true},"params":[{"type":[11569,11572],"ref":[11565,11566],"id":[11565,11566],"bi":"implicit"},{"type":[11569,11572],"ref":[11567,11568],"id":[11567,11568],"bi":"implicit"},{"type":[11580,11585],"ref":[11575,11578],"id":[11575,11578],"bi":"default"},{"type":[11591,11602],"ref":[11588,11589],"id":[11588,11589],"bi":"implicit"},{"type":[11609,11633],"ref":[11605,11607],"id":[11605,11607],"bi":"default"}],"name":["Chapter11","_example"],"modifiers":null,"kind":"example","id":{"range":[11556,11563],"original":false}}]
