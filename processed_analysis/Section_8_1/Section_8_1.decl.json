[{"value":{"range":[1208,1248],"original":true},"type":{"range":[1203,1207],"original":true},"signature":{"range":{"stop":1207,"start":1188},"pp":" (X Y : Type) : Prop","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":1248,"start":931},"pp":"/-- The definition of equal cardinality. For simplicity we restrict attention to the Type 0 universe.\nThis is analogous to `Chapter3.SetTheory.Set.EqualCard`, but we are not using the latter since\nthe Chapter 3 set theory is deprecated. -/\nabbrev EqualCard (X Y : Type) : Prop :=\n  ∃ f : X → Y, Function.Bijective f","original":true},"params":[{"type":[1195,1199],"ref":[1189,1190],"id":[1189,1190],"bi":"default"},{"type":[1195,1199],"ref":[1191,1192],"id":[1191,1192],"bi":"default"}],"name":["Chapter8","EqualCard"],"modifiers":null,"kind":"abbrev","id":{"range":[1178,1187],"original":true}},{"value":{"range":[1371,1519],"original":true},"type":{"range":[1334,1370],"original":true},"signature":{"range":{"stop":1370,"start":1319},"pp":" {X Y : Type} : EqualCard X Y ↔ Nonempty (X ≃ Y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":1519,"start":1250},"pp":"/-- Relation with Mathlib's `Equiv` concept -/\ntheorem iff {X Y : Type} : EqualCard X Y ↔ Nonempty (X ≃ Y) :=\n  by\n  simp [EqualCard]; constructor\n  . intro ⟨f, hf⟩; exact ⟨.ofBijective f hf⟩\n  intro ⟨e⟩; exact ⟨e.toFun, e.bijective⟩","original":true},"params":[{"type":[1326,1330],"ref":[1320,1321],"id":[1320,1321],"bi":"implicit"},{"type":[1326,1330],"ref":[1322,1323],"id":[1322,1323],"bi":"implicit"}],"name":["Chapter8","EqualCard","iff"],"modifiers":null,"kind":"theorem","id":{"range":[1305,1318],"original":true}},{"value":{"range":[1663,1694],"original":true},"type":{"range":[1615,1662],"original":true},"signature":{"range":{"stop":1662,"start":1600},"pp":" {X Y : Type} : EqualCard X Y ↔ Cardinal.mk X = Cardinal.mk Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":1694,"start":1521},"pp":"/-- Equivalence with Mathlib's `Cardinal.mk` concept -/\ntheorem iff' {X Y : Type} : EqualCard X Y ↔ Cardinal.mk X = Cardinal.mk Y := by simp [Cardinal.eq, iff]","original":true},"params":[{"type":[1607,1611],"ref":[1601,1602],"id":[1601,1602],"bi":"implicit"},{"type":[1607,1611],"ref":[1603,1604],"id":[1603,1604],"bi":"implicit"}],"name":["Chapter8","EqualCard","iff'"],"modifiers":null,"kind":"theorem","id":{"range":[1585,1599],"original":true}},{"value":{"range":[1746,1754],"original":true},"type":{"range":[1732,1745],"original":true},"signature":{"range":{"stop":1745,"start":1719},"pp":" (X : Type) : EqualCard X X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":1754,"start":1696},"pp":"theorem refl (X : Type) : EqualCard X X :=\n  sorry","original":true},"params":[{"type":[1724,1728],"ref":[1720,1721],"id":[1720,1721],"bi":"default"}],"name":["Chapter8","EqualCard","refl"],"modifiers":null,"kind":"theorem","id":{"range":[1704,1718],"original":true}},{"value":{"range":[1830,1843],"original":true},"type":{"range":[1816,1829],"original":true},"signature":{"range":{"stop":1829,"start":1779},"pp":" {X Y : Type} (hXY : EqualCard X Y) : EqualCard Y X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":1843,"start":1756},"pp":"theorem symm {X Y : Type} (hXY : EqualCard X Y) : EqualCard Y X := by sorry","original":true},"params":[{"type":[1786,1790],"ref":[1780,1781],"id":[1780,1781],"bi":"implicit"},{"type":[1786,1790],"ref":[1782,1783],"id":[1782,1783],"bi":"implicit"},{"type":[1799,1812],"ref":[1793,1796],"id":[1793,1796],"bi":"default"}],"name":["Chapter8","EqualCard","symm"],"modifiers":null,"kind":"theorem","id":{"range":[1764,1778],"original":true}},{"value":{"range":[1946,1959],"original":true},"type":{"range":[1932,1945],"original":true},"signature":{"range":{"stop":1945,"start":1869},"pp":" {X Y Z : Type} (hXY : EqualCard X Y) (hYZ : EqualCard Y Z) : EqualCard X Z","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":1959,"start":1845},"pp":"theorem trans {X Y Z : Type} (hXY : EqualCard X Y) (hYZ : EqualCard Y Z) : EqualCard X Z := by sorry","original":true},"params":[{"type":[1878,1882],"ref":[1870,1871],"id":[1870,1871],"bi":"implicit"},{"type":[1878,1882],"ref":[1872,1873],"id":[1872,1873],"bi":"implicit"},{"type":[1878,1882],"ref":[1874,1875],"id":[1874,1875],"bi":"implicit"},{"type":[1891,1904],"ref":[1885,1888],"id":[1885,1888],"bi":"default"},{"type":[1913,1926],"ref":[1907,1910],"id":[1907,1910],"bi":"default"}],"name":["Chapter8","EqualCard","trans"],"modifiers":null,"kind":"theorem","id":{"range":[1853,1868],"original":true}},{"value":{"range":[2005,2052],"original":true},"type":{"range":[1993,2004],"original":true},"signature":{"range":{"stop":2004,"start":1991},"pp":" : Setoid Type","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":2052,"start":1961},"pp":"instance instSetoid : Setoid Type :=\n  ⟨EqualCard, ⟨refl, symm, trans⟩⟩","original":true},"params":[],"name":["Chapter8","EqualCard","instSetoid"],"modifiers":null,"kind":"instance","id":{"range":[1970,1990],"original":true}},{"value":{"range":[2118,2184],"original":true},"type":{"range":[2090,2117],"original":true},"signature":{"range":{"stop":2117,"start":2077},"pp":" (X : Type) : EqualCard (.univ : Set X) X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","EqualCard"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","EqualCard"]},"ref":{"range":{"stop":2184,"start":2054},"pp":"theorem univ (X : Type) : EqualCard (.univ : Set X) X :=\n  ⟨Subtype.val, Subtype.val_injective, by intro _; aesop⟩","original":true},"params":[{"type":[2082,2086],"ref":[2078,2079],"id":[2078,2079],"bi":"default"}],"name":["Chapter8","EqualCard","univ"],"modifiers":null,"kind":"theorem","id":{"range":[2062,2076],"original":true}},{"value":{"range":[2229,2247],"original":true},"type":{"range":[2224,2228],"original":true},"signature":{"range":{"stop":2228,"start":2211},"pp":" (X : Type) : Prop","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":2247,"start":2186},"pp":"abbrev CountablyInfinite (X : Type) : Prop :=\n  EqualCard X ℕ","original":true},"params":[{"type":[2216,2220],"ref":[2212,2213],"id":[2212,2213],"bi":"default"}],"name":["Chapter8","CountablyInfinite"],"modifiers":null,"kind":"abbrev","id":{"range":[2193,2210],"original":true}},{"value":{"range":[2290,2325],"original":true},"type":{"range":[2285,2289],"original":true},"signature":{"range":{"stop":2289,"start":2272},"pp":" (X : Type) : Prop","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":2325,"start":2249},"pp":"abbrev AtMostCountable (X : Type) : Prop :=\n  CountablyInfinite X ∨ Finite X","original":true},"params":[{"type":[2277,2281],"ref":[2273,2274],"id":[2273,2274],"bi":"default"}],"name":["Chapter8","AtMostCountable"],"modifiers":null,"kind":"abbrev","id":{"range":[2256,2271],"original":true}},{"value":{"range":[2441,2477],"original":true},"type":{"range":[2397,2440],"original":true},"signature":{"range":{"stop":2440,"start":2359},"pp":" {X Y : Type} (hXY : EqualCard X Y) : CountablyInfinite X ↔ CountablyInfinite Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":2477,"start":2327},"pp":"theorem equiv {X Y : Type} (hXY : EqualCard X Y) : CountablyInfinite X ↔ CountablyInfinite Y :=\n  ⟨hXY.symm.trans, hXY.trans⟩","original":true},"params":[{"type":[2365,2369],"ref":[2360,2361],"id":[2360,2361],"bi":"implicit"},{"type":[2365,2369],"ref":[2362,2363],"id":[2362,2363],"bi":"implicit"},{"type":[2378,2391],"ref":[2372,2375],"id":[2372,2375],"bi":"default"}],"name":["Chapter8","CountablyInfinite","equiv"],"modifiers":null,"kind":"theorem","id":{"range":[2335,2358],"original":true}},{"value":{"range":[2560,2636],"original":true},"type":{"range":[2538,2559],"original":true},"signature":{"range":{"stop":2559,"start":2500},"pp":" {X Y : Type} (hXY : EqualCard X Y) : Finite X ↔ Finite Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Finite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Finite"]},"ref":{"range":{"stop":2636,"start":2479},"pp":"theorem equiv {X Y : Type} (hXY : EqualCard X Y) : Finite X ↔ Finite Y := by obtain ⟨f, hf⟩ := hXY;\n  exact (Equiv.ofBijective f hf).finite_iff","original":true},"params":[{"type":[2506,2510],"ref":[2501,2502],"id":[2501,2502],"bi":"implicit"},{"type":[2506,2510],"ref":[2503,2504],"id":[2503,2504],"bi":"implicit"},{"type":[2519,2532],"ref":[2513,2516],"id":[2513,2516],"bi":"default"}],"name":["Chapter8","Finite","equiv"],"modifiers":null,"kind":"theorem","id":{"range":[2487,2499],"original":true}},{"value":{"range":[2746,2823],"original":true},"type":{"range":[2706,2745],"original":true},"signature":{"range":{"stop":2745,"start":2668},"pp":" {X Y : Type} (hXY : EqualCard X Y) : AtMostCountable X ↔ AtMostCountable Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":2823,"start":2638},"pp":"theorem equiv {X Y : Type} (hXY : EqualCard X Y) : AtMostCountable X ↔ AtMostCountable Y := by\n  simp [AtMostCountable, CountablyInfinite.equiv hXY, Finite.equiv hXY]","original":true},"params":[{"type":[2674,2678],"ref":[2669,2670],"id":[2669,2670],"bi":"implicit"},{"type":[2674,2678],"ref":[2671,2672],"id":[2671,2672],"bi":"implicit"},{"type":[2687,2700],"ref":[2681,2684],"id":[2681,2684],"bi":"default"}],"name":["Chapter8","AtMostCountable","equiv"],"modifiers":null,"kind":"theorem","id":{"range":[2646,2667],"original":true}},{"value":{"range":[2992,3146],"original":true},"type":{"range":[2943,2991],"original":true},"signature":{"range":{"stop":2991,"start":2930},"pp":" (X : Type) : CountablyInfinite X ↔ Nonempty (Denumerable X)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":3146,"start":2825},"pp":"/-- Equivalence with Mathlib's `Denumerable` concept (cf. Remark 8.1.2) -/\ntheorem iff (X : Type) : CountablyInfinite X ↔ Nonempty (Denumerable X) :=\n  by\n  simp [CountablyInfinite, EqualCard.iff]; constructor\n  . intro ⟨e⟩; exact ⟨Denumerable.mk' e⟩\n  intro ⟨h⟩; exact ⟨h.eqv X⟩","original":true},"params":[{"type":[2935,2939],"ref":[2931,2932],"id":[2931,2932],"bi":"default"}],"name":["Chapter8","CountablyInfinite","iff"],"modifiers":null,"kind":"theorem","id":{"range":[2908,2929],"original":true}},{"value":{"range":[3299,3341],"original":true},"type":{"range":[3248,3298],"original":true},"signature":{"range":{"stop":3298,"start":3235},"pp":" (X : Type) : CountablyInfinite X ↔ Countable X ∧ Infinite X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":3341,"start":3148},"pp":"/-- Equivalence with Mathlib's `Countable` typeclass -/\ntheorem iff' (X : Type) : CountablyInfinite X ↔ Countable X ∧ Infinite X := by rw [iff, nonempty_denumerable_iff]","original":true},"params":[{"type":[3240,3244],"ref":[3236,3237],"id":[3236,3237],"bi":"default"}],"name":["Chapter8","CountablyInfinite","iff'"],"modifiers":null,"kind":"theorem","id":{"range":[3212,3234],"original":true}},{"value":{"range":[3432,3455],"original":true},"type":{"range":[3420,3431],"original":true},"signature":{"range":{"stop":3431,"start":3381},"pp":" {X : Type} (hX : CountablyInfinite X) : Countable X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":3455,"start":3343},"pp":"theorem toCountable {X : Type} (hX : CountablyInfinite X) : Countable X := by simp_all [iff']","original":true},"params":[{"type":[3386,3390],"ref":[3382,3383],"id":[3382,3383],"bi":"implicit"},{"type":[3397,3416],"ref":[3393,3395],"id":[3393,3395],"bi":"default"}],"name":["Chapter8","CountablyInfinite","toCountable"],"modifiers":null,"kind":"theorem","id":{"range":[3351,3380],"original":true}},{"value":{"range":[3544,3567],"original":true},"type":{"range":[3533,3543],"original":true},"signature":{"range":{"stop":3543,"start":3494},"pp":" {X : Type} (hX : CountablyInfinite X) : Infinite X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":3567,"start":3457},"pp":"theorem toInfinite {X : Type} (hX : CountablyInfinite X) : Infinite X := by simp_all [iff']","original":true},"params":[{"type":[3499,3503],"ref":[3495,3496],"id":[3495,3496],"bi":"implicit"},{"type":[3510,3529],"ref":[3506,3508],"id":[3506,3508],"bi":"default"}],"name":["Chapter8","CountablyInfinite","toInfinite"],"modifiers":null,"kind":"theorem","id":{"range":[3465,3493],"original":true}},{"value":{"range":[3644,3802],"original":true},"type":{"range":[3610,3643],"original":true},"signature":{"range":{"stop":3643,"start":3597},"pp":" (X : Type) : AtMostCountable X ↔ Countable X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":3802,"start":3569},"pp":"theorem iff (X : Type) : AtMostCountable X ↔ Countable X :=\n  by\n  observe h1 : CountablyInfinite X ↔ Countable X ∧ Infinite X\n  observe h2 : Finite X ∨ Infinite X\n  observe h3 : Finite X → Countable X\n  tauto","original":true},"params":[{"type":[3602,3606],"ref":[3598,3599],"id":[3598,3599],"bi":"default"}],"name":["Chapter8","AtMostCountable","iff"],"modifiers":null,"kind":"theorem","id":{"range":[3577,3596],"original":true}},{"value":{"range":[3924,4516],"original":true},"type":{"range":[3866,3923],"original":true},"signature":{"range":{"stop":3923,"start":3844},"pp":" {A : Type} (X : Set A) : CountablyInfinite X ↔ ∃ f : ℕ ↪ A, X = f '' .univ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":4516,"start":3804},"pp":"theorem iff_image_inj {A : Type} (X : Set A) : CountablyInfinite X ↔ ∃ f : ℕ ↪ A, X = f '' .univ :=\n  by\n  constructor\n  . intro ⟨g, hg⟩\n    choose f hleft hright using Function.bijective_iff_has_inverse.mp hg\n    refine ⟨⟨Subtype.val ∘ f, ?_⟩, ?_⟩\n    . intro x y hxy; apply hright.injective; simp_all [Subtype.val_inj]\n    ext; simp; constructor\n    . intro hx; use g ⟨_, hx⟩; simp [hleft _]\n    rintro ⟨_, rfl⟩; aesop\n  intro ⟨f, hf⟩\n  have := Function.leftInverse_invFun (Function.Embedding.injective f)\n  use (Function.invFun f) ∘ Subtype.val; split_ands\n  . rintro ⟨x, hx⟩ ⟨y, hy⟩ h; grind\n  intro n; use ⟨f n, by aesop⟩; grind","original":true},"params":[{"type":[3847,3851],"ref":[3845,3846],"id":[3845,3846],"bi":"implicit"},{"type":[3857,3862],"ref":[3854,3855],"id":[3854,3855],"bi":"default"}],"name":["Chapter8","CountablyInfinite","iff_image_inj"],"modifiers":null,"kind":"theorem","id":{"range":[3812,3843],"original":true}},{"value":{"range":[4572,4583],"original":true},"type":{"range":[4550,4571],"original":true},"signature":{"range":{"stop":4571,"start":4548},"pp":" : CountablyInfinite ℕ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":4583,"start":4518},"pp":"/-- Examples 8.1.3 -/\nexample : CountablyInfinite ℕ := by sorry","original":true},"params":[],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[4540,4547],"original":false}},{"value":{"range":[4636,4647],"original":true},"type":{"range":[4595,4635],"original":true},"signature":{"range":{"stop":4635,"start":4593},"pp":" : CountablyInfinite (.univ \\ {0} : Set ℕ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":4647,"start":4585},"pp":"example : CountablyInfinite (.univ \\ {0} : Set ℕ) := by sorry","original":true},"params":[],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[4585,4592],"original":false}},{"value":{"range":[4708,4719],"original":true},"type":{"range":[4659,4707],"original":true},"signature":{"range":{"stop":4707,"start":4657},"pp":" : CountablyInfinite ((fun n : ℕ ↦ 2 * n) '' .univ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":4719,"start":4649},"pp":"example : CountablyInfinite ((fun n : ℕ ↦ 2 * n) '' .univ) := by sorry","original":true},"params":[],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[4649,4656],"original":false}},{"value":{"range":[4890,4903],"original":true},"type":{"range":[4855,4889],"original":true},"signature":{"range":{"stop":4889,"start":4819},"pp":" {X : Set ℕ} (hX : X.Nonempty) : ∃! m ∈ X, ∀ n ∈ X, m ≤ n","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":4903,"start":4722},"pp":"/-- Proposition 8.1.4 (Well ordering principle / Exercise 8.1.2 -/\ntheorem exists_unique_min {X : Set ℕ} (hX : X.Nonempty) : ∃! m ∈ X, ∀ n ∈ X, m ≤ n := by sorry","original":true},"params":[{"type":[4824,4831],"ref":[4820,4821],"id":[4820,4821],"bi":"implicit"},{"type":[4839,4849],"ref":[4834,4836],"id":[4834,4836],"bi":"default"}],"name":["Chapter8","Nat","exists_unique_min"],"modifiers":null,"kind":"theorem","id":{"range":[4797,4818],"original":true}},{"value":{"range":[5017,5123],"original":true},"type":{"range":[4933,5016],"original":true},"signature":{"range":{"stop":5016,"start":4931},"pp":" : Decidable (∀ (X : Set ℤ) (hX : X.Nonempty), ∃! m ∈ X, ∀ n ∈ X, m ≤ n)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","Int"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Int"]},"ref":{"range":{"stop":5123,"start":4905},"pp":"def exists_unique_min : Decidable (∀ (X : Set ℤ) (hX : X.Nonempty), ∃! m ∈ X, ∀ n ∈ X, m ≤ n) := by\n  -- the first line of this construction should be either `apply isTrue` or `apply isFalse`.\n  sorry","original":true},"params":[],"name":["Chapter8","Int","exists_unique_min"],"modifiers":null,"kind":"definition","id":{"range":[4909,4930],"original":true}},{"value":{"range":[5241,5347],"original":true},"type":{"range":[5155,5240],"original":true},"signature":{"range":{"stop":5240,"start":5153},"pp":" : Decidable (∀ (X : Set NNRat) (hX : X.Nonempty), ∃! m ∈ X, ∀ n ∈ X, m ≤ n)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","NNRat"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","NNRat"]},"ref":{"range":{"stop":5347,"start":5125},"pp":"def exists_unique_min : Decidable (∀ (X : Set NNRat) (hX : X.Nonempty), ∃! m ∈ X, ∀ n ∈ X, m ≤ n) := by\n  -- the first line of this construction should be either `apply isTrue` or `apply isFalse`.\n  sorry","original":true},"params":[],"name":["Chapter8","NNRat","exists_unique_min"],"modifiers":null,"kind":"definition","id":{"range":[5129,5152],"original":true}},{"value":{"range":[5417,5487],"original":true},"type":{"range":[5413,5416],"original":true},"signature":{"range":{"stop":5416,"start":5397},"pp":" (X : Set ℕ) : ℕ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Classical"],["Chapter8","Nat"]],"openDecl":[{"simple":{"namespace":["Classical"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":5487,"start":5368},"pp":"noncomputable abbrev min (X : Set ℕ) : ℕ :=\n  if hX : X.Nonempty then (exists_unique_min hX).exists.choose else 0","original":true},"params":[{"type":[5402,5409],"ref":[5398,5399],"id":[5398,5399],"bi":"default"}],"name":["Chapter8","Nat","min"],"modifiers":null,"kind":"abbrev","id":{"range":[5389,5396],"original":true}},{"value":{"range":[5585,5656],"original":true},"type":{"range":[5544,5584],"original":true},"signature":{"range":{"stop":5584,"start":5510},"pp":" {X : Set ℕ} (hX : X.Nonempty) : min X ∈ X ∧ ∀ n ∈ X, min X ≤ n","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":5656,"start":5489},"pp":"theorem min_spec {X : Set ℕ} (hX : X.Nonempty) : min X ∈ X ∧ ∀ n ∈ X, min X ≤ n := by simp [hX, min];\n  exact (exists_unique_min hX).exists.choose_spec","original":true},"params":[{"type":[5515,5522],"ref":[5511,5512],"id":[5511,5512],"bi":"implicit"},{"type":[5530,5540],"ref":[5525,5527],"id":[5525,5527],"bi":"default"}],"name":["Chapter8","Nat","min_spec"],"modifiers":null,"kind":"theorem","id":{"range":[5497,5509],"original":true}},{"value":{"range":[5769,5820],"original":true},"type":{"range":[5759,5768],"original":true},"signature":{"range":{"stop":5768,"start":5677},"pp":" {X : Set ℕ} (hX : X.Nonempty) {a : ℕ} (ha : a ∈ X ∧ ∀ n ∈ X, a ≤ n) : min X = a","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":5820,"start":5658},"pp":"theorem min_eq {X : Set ℕ} (hX : X.Nonempty) {a : ℕ} (ha : a ∈ X ∧ ∀ n ∈ X, a ≤ n) : min X = a :=\n  (exists_unique_min hX).unique (min_spec hX) ha","original":true},"params":[{"type":[5682,5689],"ref":[5678,5679],"id":[5678,5679],"bi":"implicit"},{"type":[5697,5707],"ref":[5692,5694],"id":[5692,5694],"bi":"default"},{"type":[5712,5715],"ref":[5710,5711],"id":[5710,5711],"bi":"implicit"},{"type":[5723,5755],"ref":[5718,5720],"id":[5718,5720],"bi":"default"}],"name":["Chapter8","Nat","min_eq"],"modifiers":null,"kind":"theorem","id":{"range":[5666,5676],"original":true}},{"value":{"range":[5866,5886],"original":true},"type":{"range":[5854,5865],"original":true},"signature":{"range":{"stop":5865,"start":5852},"pp":" : min ∅ = 0","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":5886,"start":5822},"pp":"@[simp]\ntheorem min_empty : min ∅ = 0 := by simp [Nat.min]","original":true},"params":[],"name":["Chapter8","Nat","min_empty"],"modifiers":null,"kind":"theorem","id":{"range":[5838,5851],"original":true}},{"value":{"range":[5940,5951],"original":true},"type":{"range":[5898,5939],"original":true},"signature":{"range":{"stop":5939,"start":5896},"pp":" : Nat.min ((fun n ↦ 2 * n) '' (.Ici 1)) = 2","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":5951,"start":5888},"pp":"example : Nat.min ((fun n ↦ 2 * n) '' (.Ici 1)) = 2 := by sorry","original":true},"params":[],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[5888,5895],"original":false}},{"value":{"range":[6026,6039],"original":true},"type":{"range":[6011,6025],"original":true},"signature":{"range":{"stop":6025,"start":5977},"pp":" {X : Set ℕ} (hX : X.Nonempty) : min X = sInf X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":6039,"start":5953},"pp":"theorem min_eq_sInf {X : Set ℕ} (hX : X.Nonempty) : min X = sInf X := by sorry","original":true},"params":[{"type":[5982,5989],"ref":[5978,5979],"id":[5978,5979],"bi":"implicit"},{"type":[5997,6007],"ref":[5992,5994],"id":[5992,5994],"bi":"default"}],"name":["Chapter8","Nat","min_eq_sInf"],"modifiers":null,"kind":"theorem","id":{"range":[5961,5976],"original":true}},{"value":{"range":[6189,6251],"original":true},"type":{"range":[6169,6188],"original":true},"signature":{"range":{"stop":6188,"start":6135},"pp":" {X : Set ℕ} (hX : X.Nonempty) : min X = Nat.find hX","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Classical"],["Chapter8","Nat"]],"openDecl":[{"simple":{"namespace":["Classical"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":6251,"start":6059},"pp":"/-- Equivalence with Mathlib's `Nat.find` method -/\ntheorem min_eq_find {X : Set ℕ} (hX : X.Nonempty) : min X = Nat.find hX := by symm; rw [Nat.find_eq_iff];\n  have := min_spec hX; grind","original":true},"params":[{"type":[6140,6147],"ref":[6136,6137],"id":[6136,6137],"bi":"implicit"},{"type":[6155,6165],"ref":[6150,6152],"id":[6150,6152],"bi":"default"}],"name":["Chapter8","Nat","min_eq_find"],"modifiers":null,"kind":"theorem","id":{"range":[6119,6134],"original":true}},{"value":{"range":[6403,8256],"original":true},"type":{"range":[6345,6402],"original":true},"signature":{"range":{"stop":6402,"start":6316},"pp":" (X : Set ℕ) [Infinite X] : ∃! f : ℕ → X, Function.Bijective f ∧ StrictMono f","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":8256,"start":6253},"pp":"/-- Proposition 8.1.5 -/\ntheorem monotone_enum_of_infinite (X : Set ℕ) [Infinite X] : ∃! f : ℕ → X, Function.Bijective f ∧ StrictMono f := by\n  -- This proof is written to follow the structure of the original text.\n  \n  let a : ℕ → ℕ := Nat.strongRec (fun n a ↦ min ({x ∈ X | ∀ (m : ℕ) (h : m < n), x ≠ a m h}))\n  have ha : ∀ n, a n = min ({x ∈ X | ∀ (m : ℕ) (h : m < n), x ≠ a m}) := Nat.strongRec.eq_def _\n  have ha_infinite (n : ℕ) : Infinite ({x ∈ X | ∀ (m : ℕ) (h : m < n), x ≠ a m}) := by sorry\n  have ha_nonempty (n : ℕ) : {x ∈ X | ∀ (m : ℕ) (h : m < n), x ≠ a m}.Nonempty := Set.Nonempty.of_subtype\n  have ha_mono : StrictMono a := by sorry\n  have ha_injective : Function.Injective a := by sorry\n  have haX (n : ℕ) : a n ∈ X := by sorry\n  set f : ℕ → X := fun n ↦ ⟨a n, haX n⟩\n  have hf_injective : Function.Injective f := by intro x y hxy; simp [f] at hxy; solve_by_elim\n  have hf_surjective : Function.Surjective f := by\n    intro ⟨x, hx⟩; simp [f]; by_contra\n    have h1 (n : ℕ) : x ∈ {x ∈ X | ∀ (m : ℕ) (h : m < n), x ≠ a m} := by sorry\n    have h2 (n : ℕ) : x ≥ a n := by rw [ha n]; exact ge_iff_le.mpr ((min_spec (ha_nonempty n)).2 _ (h1 n))\n    have h3 (n : ℕ) : a n ≥ n := by sorry\n    have h4 (n : ℕ) : x ≥ n := (h3 n).trans (h2 n)\n    linarith [h4 (x + 1)]\n  apply ExistsUnique.intro _ ⟨⟨hf_injective, hf_surjective⟩, ha_mono⟩\n  intro g ⟨hg_bijective, hg_mono⟩; by_contra!\n  replace : {n | g n ≠ f n}.Nonempty := by\n    contrapose! this\n    apply funext; simpa [Set.eq_empty_iff_forall_notMem] using this\n  set m := min {n | g n ≠ f n}\n  have hm : g m ≠ f m := (min_spec this).1\n  have hm' {n : ℕ} (hn : n < m) : g n = f n := by by_contra hgfn; linarith [(min_spec this).2 n (by simp [hgfn])]\n  have hgm : g m = min ({x ∈ X | ∀ (n : ℕ) (h : n < m), x ≠ a n}) := by sorry\n  rw [← ha m] at hgm; contrapose! hm; exact Subtype.val_injective hgm","original":true},"params":[{"type":[6321,6328],"ref":[6317,6318],"id":[6317,6318],"bi":"default"},{"type":[6331,6341],"ref":null,"id":null,"bi":"instImplicit"}],"name":["Chapter8","Nat","monotone_enum_of_infinite"],"modifiers":null,"kind":"theorem","id":{"range":[6286,6315],"original":true}},{"value":{"range":[8341,8456],"original":true},"type":{"range":[8321,8340],"original":true},"signature":{"range":{"stop":8340,"start":8292},"pp":" (X : Set ℕ) [Infinite X] : CountablyInfinite X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":8456,"start":8258},"pp":"theorem countable_of_infinite (X : Set ℕ) [Infinite X] : CountablyInfinite X :=\n  by\n  have := (monotone_enum_of_infinite X).exists\n  exact EqualCard.symm ⟨this.choose, this.choose_spec.1⟩","original":true},"params":[{"type":[8297,8304],"ref":[8293,8294],"id":[8293,8294],"bi":"default"},{"type":[8307,8317],"ref":null,"id":null,"bi":"instImplicit"}],"name":["Chapter8","Nat","countable_of_infinite"],"modifiers":null,"kind":"theorem","id":{"range":[8266,8291],"original":true}},{"value":{"range":[8549,8651],"original":true},"type":{"range":[8531,8548],"original":true},"signature":{"range":{"stop":8548,"start":8516},"pp":" (X : Set ℕ) : AtMostCountable X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Nat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Nat"]},"ref":{"range":{"stop":8651,"start":8458},"pp":"/-- Corollary 8.1.6 -/\ntheorem atMostCountable_subset (X : Set ℕ) : AtMostCountable X :=\n  by\n  obtain _ | _ := finite_or_infinite X\n  . tauto\n  simp [AtMostCountable, countable_of_infinite]","original":true},"params":[{"type":[8520,8527],"ref":[8517,8518],"id":[8517,8518],"bi":"default"}],"name":["Chapter8","Nat","atMostCountable_subset"],"modifiers":null,"kind":"theorem","id":{"range":[8489,8515],"original":true}},{"value":{"range":[8773,9124],"original":true},"type":{"range":[8755,8772],"original":true},"signature":{"range":{"stop":8772,"start":8707},"pp":" {X : Type} (hX : AtMostCountable X) (Y : Set X) : AtMostCountable Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":9124,"start":8653},"pp":"/-- Corollary 8.1.7 -/\ntheorem subset {X : Type} (hX : AtMostCountable X) (Y : Set X) : AtMostCountable Y := by\n  -- This proof is written to follow the structure of the original text.\n  \n  obtain ⟨f, hf⟩ | hX := hX\n  . let f' : Y → f '' Y := fun y ↦ ⟨f y, by aesop⟩\n    have hf' : Function.Bijective f' := by sorry\n    rw [equiv ⟨_, hf'⟩]; apply Nat.atMostCountable_subset\n  simp [AtMostCountable, show Finite Y by infer_instance]","original":true},"params":[{"type":[8711,8715],"ref":[8708,8709],"id":[8708,8709],"bi":"implicit"},{"type":[8723,8740],"ref":[8718,8720],"id":[8718,8720],"bi":"default"},{"type":[8746,8751],"ref":[8743,8744],"id":[8743,8744],"bi":"default"}],"name":["Chapter8","AtMostCountable","subset"],"modifiers":null,"kind":"theorem","id":{"range":[8684,8706],"original":true}},{"value":{"range":[9239,9484],"original":true},"type":{"range":[9221,9238],"original":true},"signature":{"range":{"stop":9238,"start":9158},"pp":" {A : Type} {X Y : Set A} (hX : AtMostCountable X) (hY : Y ⊆ X) : AtMostCountable Y","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":9484,"start":9126},"pp":"theorem subset' {A : Type} {X Y : Set A} (hX : AtMostCountable X) (hY : Y ⊆ X) : AtMostCountable Y :=\n  by\n  refine' (equiv ⟨fun y ↦ ⟨↑↑y, y.property⟩, _, _⟩).mp (subset hX {x : X | ↑x ∈ Y})\n  . intro ⟨⟨_, _⟩, _⟩ ⟨⟨_, _⟩, _⟩ _; simp_all\n  intro ⟨y, hy⟩; use ⟨⟨y, hY hy⟩, by aesop⟩","original":true},"params":[{"type":[9162,9166],"ref":[9159,9160],"id":[9159,9160],"bi":"implicit"},{"type":[9174,9179],"ref":[9169,9170],"id":[9169,9170],"bi":"implicit"},{"type":[9174,9179],"ref":[9171,9172],"id":[9171,9172],"bi":"implicit"},{"type":[9186,9203],"ref":[9182,9184],"id":[9182,9184],"bi":"default"},{"type":[9210,9217],"ref":[9206,9208],"id":[9206,9208],"bi":"default"}],"name":["Chapter8","AtMostCountable","subset'"],"modifiers":null,"kind":"theorem","id":{"range":[9134,9157],"original":true}},{"value":{"range":[9618,9631],"original":true},"type":{"range":[9589,9617],"original":true},"signature":{"range":{"stop":9617,"start":9562},"pp":" (Y : Type) (f : ℕ → Y) : AtMostCountable (f '' .univ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":9631,"start":9486},"pp":"/-- Proposition 8.1.8 / Exercise 8.1.4 -/\ntheorem image_nat (Y : Type) (f : ℕ → Y) : AtMostCountable (f '' .univ) := by sorry","original":true},"params":[{"type":[9566,9570],"ref":[9563,9564],"id":[9563,9564],"bi":"default"},{"type":[9576,9585],"ref":[9573,9574],"id":[9573,9574],"bi":"default"}],"name":["Chapter8","AtMostCountable","image_nat"],"modifiers":null,"kind":"theorem","id":{"range":[9536,9561],"original":true}},{"value":{"range":[9792,9805],"original":true},"type":{"range":[9763,9791],"original":true},"signature":{"range":{"stop":9791,"start":9703},"pp":" {X : Type} (hX : CountablyInfinite X) {Y : Type} (f : X → Y) : AtMostCountable (f '' .univ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","AtMostCountable"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","AtMostCountable"]},"ref":{"range":{"stop":9805,"start":9633},"pp":"/-- Corollary 8.1.9 / Exercise 8.1.5 -/\ntheorem image {X : Type} (hX : CountablyInfinite X) {Y : Type} (f : X → Y) : AtMostCountable (f '' .univ) := by sorry","original":true},"params":[{"type":[9706,9710],"ref":[9704,9705],"id":[9704,9705],"bi":"implicit"},{"type":[9717,9736],"ref":[9713,9715],"id":[9713,9715],"bi":"default"},{"type":[9742,9746],"ref":[9739,9740],"id":[9739,9740],"bi":"implicit"},{"type":[9752,9759],"ref":[9749,9750],"id":[9749,9750],"bi":"default"}],"name":["Chapter8","AtMostCountable","image"],"modifiers":null,"kind":"theorem","id":{"range":[9681,9702],"original":true}},{"value":{"range":[9995,10008],"original":true},"type":{"range":[9960,9994],"original":true},"signature":{"range":{"stop":9994,"start":9882},"pp":" {A : Type} {X Y : Set A} (hX : CountablyInfinite X) (hY : CountablyInfinite Y) : CountablyInfinite (X ∪ Y : Set A)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":10008,"start":9807},"pp":"/-- Proposition 8.1.10 / Exercise 8.1.7 -/\ntheorem union {A : Type} {X Y : Set A} (hX : CountablyInfinite X) (hY : CountablyInfinite Y) :\n    CountablyInfinite (X ∪ Y : Set A) := by sorry","original":true},"params":[{"type":[9885,9889],"ref":[9883,9884],"id":[9883,9884],"bi":"implicit"},{"type":[9897,9902],"ref":[9892,9893],"id":[9892,9893],"bi":"implicit"},{"type":[9897,9902],"ref":[9894,9895],"id":[9894,9895],"bi":"implicit"},{"type":[9909,9928],"ref":[9905,9907],"id":[9905,9907],"bi":"default"},{"type":[9935,9954],"ref":[9931,9933],"id":[9931,9933],"bi":"default"}],"name":["Chapter8","CountablyInfinite","union"],"modifiers":null,"kind":"theorem","id":{"range":[9858,9881],"original":true}},{"value":{"range":[10089,10785],"original":true},"type":{"range":[10067,10088],"original":true},"signature":{"range":{"stop":10088,"start":10065},"pp":" : CountablyInfinite ℤ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8","Int"],["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Int"]},"ref":{"range":{"stop":10785,"start":10010},"pp":"/-- Corollary 8.1.11 --/\ntheorem countablyInfinite : CountablyInfinite ℤ := by\n  -- This proof is written to follow the structure of the original text.\n  \n  have h1 : CountablyInfinite {n : ℤ | n ≥ 0} :=\n    by\n    rw [CountablyInfinite.iff_image_inj]\n    use ⟨(↑· : ℕ → ℤ), by intro _ _ _; simp_all⟩\n    ext n; simp; refine ⟨?_, by aesop⟩\n    . intro h; use n.toNat; simp [h]\n  have h2 : CountablyInfinite {n : ℤ | n ≤ 0} :=\n    by\n    rw [CountablyInfinite.iff_image_inj]\n    use ⟨(-↑· : ℕ → ℤ), by intro _ _ _; simp_all⟩\n    ext n; simp; refine ⟨?_, by aesop⟩\n    intro h; use (-n).toNat; simp [h]\n  have : CountablyInfinite (.univ : Set ℤ) := by convert h1.union h2; ext; simp; omega\n  rwa [← CountablyInfinite.equiv (.univ _)]","original":true},"params":[],"name":["Chapter8","Int","countablyInfinite"],"modifiers":null,"kind":"theorem","id":{"range":[10043,10064],"original":true}},{"value":{"range":[10897,12318],"original":true},"type":{"range":[10846,10896],"original":true},"signature":{"range":{"stop":10896,"start":10844},"pp":" : CountablyInfinite {n : ℕ × ℕ | n.2 ≤ n.1}","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":12318,"start":10787},"pp":"/-- Lemma 8.1.12 -/\ntheorem lower_diag : CountablyInfinite {n : ℕ × ℕ | n.2 ≤ n.1} := by\n  -- This proof is written to follow the structure of the original text.\n  \n  let A := {n : ℕ × ℕ | n.2 ≤ n.1}\n  let a : ℕ → ℕ := fun n ↦ ∑ m ∈ .range (n + 1), m\n  have ha : StrictMono a := by sorry\n  let f : A → ℕ := fun ⟨(n, m), _⟩ ↦ a n + m\n  have hf : Function.Injective f := by\n    rintro ⟨⟨n, m⟩, hnm⟩ ⟨⟨n', m'⟩, hnm'⟩ h\n    simp [A, f] at hnm hnm' ⊢ h\n    obtain hnn' | rfl | hnn' := lt_trichotomy n n'\n    . have : a n' + m' > a n + m := by\n        calc\n          _ ≥ a n' := by linarith\n          _ ≥ a (n + 1) := (ha.monotone (by linarith))\n          _ = a n + (n + 1) := (Finset.sum_range_succ id _)\n          _ > a n + m := by linarith\n      linarith\n    . simpa using h\n    have : a n + m > a n' + m' := by\n      calc\n        _ ≥ a n := by linarith\n        _ ≥ a (n' + 1) := (ha.monotone (by linarith))\n        _ = a n' + (n' + 1) := (Finset.sum_range_succ id _)\n        _ > a n' + m' := by linarith\n    linarith\n  let f' : A → f '' .univ := fun p ↦ ⟨f p, by aesop⟩\n  have hf' : Function.Bijective f' := by\n    constructor\n    . intro p q hpq; simp [f'] at hpq; solve_by_elim\n    intro ⟨l, hl⟩; simp at hl\n    obtain ⟨n, m, q, rfl⟩ := hl; use ⟨(n, m), q⟩\n  have : AtMostCountable A := by rw [AtMostCountable.equiv ⟨_, hf'⟩]; apply Nat.atMostCountable_subset\n  have hfin : ¬Finite A := by sorry\n  simp [AtMostCountable] at this; tauto","original":true},"params":[],"name":["Chapter8","CountablyInfinite","lower_diag"],"modifiers":null,"kind":"theorem","id":{"range":[10815,10843],"original":true}},{"value":{"range":[12412,12874],"original":true},"type":{"range":[12381,12411],"original":true},"signature":{"range":{"stop":12411,"start":12379},"pp":" : CountablyInfinite (ℕ × ℕ)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":12874,"start":12320},"pp":"/-- Corollary 8.1.13 -/\ntheorem prod_nat : CountablyInfinite (ℕ × ℕ) :=\n  by\n  have upper_diag : CountablyInfinite {n : ℕ × ℕ | n.1 ≤ n.2} :=\n    by\n    refine (equiv ⟨fun ⟨(n, m), _⟩ ↦ ⟨(m, n), by aesop⟩, ?_, ?_⟩).mp lower_diag\n    . intro ⟨(_, _), _⟩ ⟨(_, _), _⟩ _; aesop\n    intro ⟨(n, m), _⟩; use ⟨(m, n), by aesop⟩\n  have : CountablyInfinite (.univ : Set (ℕ × ℕ)) := by convert union lower_diag upper_diag; ext ⟨n, m⟩; simp; omega\n  exact (equiv (.univ _)).mp this","original":true},"params":[],"name":["Chapter8","CountablyInfinite","prod_nat"],"modifiers":null,"kind":"theorem","id":{"range":[12352,12378],"original":true}},{"value":{"range":[13042,13055],"original":true},"type":{"range":[13015,13041],"original":true},"signature":{"range":{"stop":13041,"start":12948},"pp":" {X Y : Type} (hX : CountablyInfinite X) (hY : CountablyInfinite Y) : CountablyInfinite (X × Y)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","CountablyInfinite"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","CountablyInfinite"]},"ref":{"range":{"stop":13055,"start":12876},"pp":"/-- Corollary 8.1.14 / Exercise 8.1.8 -/\ntheorem prod {X Y : Type} (hX : CountablyInfinite X) (hY : CountablyInfinite Y) : CountablyInfinite (X × Y) := by sorry","original":true},"params":[{"type":[12953,12957],"ref":[12949,12950],"id":[12949,12950],"bi":"implicit"},{"type":[12953,12957],"ref":[12951,12952],"id":[12951,12952],"bi":"implicit"},{"type":[12964,12983],"ref":[12960,12962],"id":[12960,12962],"bi":"default"},{"type":[12990,13009],"ref":[12986,12988],"id":[12986,12988],"bi":"default"}],"name":["Chapter8","CountablyInfinite","prod"],"modifiers":null,"kind":"theorem","id":{"range":[12925,12947],"original":true}},{"value":{"range":[13135,13860],"original":true},"type":{"range":[13113,13134],"original":true},"signature":{"range":{"stop":13134,"start":13111},"pp":" : CountablyInfinite ℚ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"],["Chapter8","Rat"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8","Rat"]},"ref":{"range":{"stop":13860,"start":13057},"pp":"/-- Corollary 8.1.15 -/\ntheorem countablyInfinite : CountablyInfinite ℚ := by\n  -- This proof is written to follow the structure of the original text.\n  \n  have : CountablyInfinite {n : ℤ | n ≠ 0} := by sorry\n  apply Int.countablyInfinite.prod at this\n  let f : ℤ × {n : ℤ | n ≠ 0} → ℚ := fun (a, b) ↦ (a / b : ℚ)\n  replace := AtMostCountable.image this f\n  have h : f '' .univ = .univ := by sorry\n  simp [h, AtMostCountable.equiv (EqualCard.univ _), AtMostCountable] at this\n  have hfin : ¬Finite ℚ := by\n    by_contra!\n    replace : Finite (.univ : Set ℕ) := by apply @Finite.Set.finite_of_finite_image ℕ ℚ _ (↑·); intro _ _ _ _; simp\n    rw [Set.finite_coe_iff, Set.finite_univ_iff, ← not_infinite_iff_finite] at this\n    apply this; infer_instance\n  tauto","original":true},"params":[],"name":["Chapter8","Rat","countablyInfinite"],"modifiers":null,"kind":"theorem","id":{"range":[13089,13110],"original":true}},{"value":{"range":[13964,13977],"original":true},"type":{"range":[13904,13963],"original":true},"signature":{"range":{"stop":13963,"start":13892},"pp":" (X : Type) : Infinite X ↔ ∃ Y : Set X, Y ≠ .univ ∧ EqualCard Y X","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":13977,"start":13862},"pp":"/-- Exercise 8.1.1 -/\nexample (X : Type) : Infinite X ↔ ∃ Y : Set X, Y ≠ .univ ∧ EqualCard Y X := by sorry","original":true},"params":[{"type":[13896,13900],"ref":[13893,13894],"id":[13893,13894],"bi":"default"}],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[13884,13891],"original":false}},{"value":{"range":[14083,14096],"original":true},"type":{"range":[14021,14082],"original":true},"signature":{"range":{"stop":14082,"start":14009},"pp":" (A : Type) : AtMostCountable A ↔ ∃ f : A → ℕ, Function.Injective f","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":14096,"start":13979},"pp":"/-- Exercise 8.1.6 -/\nexample (A : Type) : AtMostCountable A ↔ ∃ f : A → ℕ, Function.Injective f := by sorry","original":true},"params":[{"type":[14013,14017],"ref":[14010,14011],"id":[14010,14011],"bi":"default"}],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[14001,14008],"original":false}},{"value":{"range":[14248,14259],"original":true},"type":{"range":[14219,14247],"original":true},"signature":{"range":{"stop":14247,"start":14128},"pp":" {I X : Type} (hI : AtMostCountable I) (A : I → Set X) (hA : ∀ i, AtMostCountable (A i)) : AtMostCountable (⋃ i, A i)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":14259,"start":14098},"pp":"/-- Exercise 8.1.9 -/\nexample {I X : Type} (hI : AtMostCountable I) (A : I → Set X) (hA : ∀ i, AtMostCountable (A i)) :\n    AtMostCountable (⋃ i, A i) := by sorry","original":true},"params":[{"type":[14133,14137],"ref":[14129,14130],"id":[14129,14130],"bi":"implicit"},{"type":[14133,14137],"ref":[14131,14132],"id":[14131,14132],"bi":"implicit"},{"type":[14144,14161],"ref":[14140,14142],"id":[14140,14142],"bi":"default"},{"type":[14167,14178],"ref":[14164,14165],"id":[14164,14165],"bi":"default"},{"type":[14185,14213],"ref":[14181,14183],"id":[14181,14183],"bi":"default"}],"name":["Chapter8","_example"],"modifiers":null,"kind":"example","id":{"range":[14120,14127],"original":false}},{"value":{"range":[14388,14396],"original":true},"type":{"range":[14376,14387],"original":true},"signature":{"range":{"stop":14387,"start":14374},"pp":" : ℕ → ℚ","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":14396,"start":14261},"pp":"/-- Exercise 8.1.10.  Note the lack of the `noncomputable` keyword in the `abbrev`. -/\nabbrev explicit_bijection : ℕ → ℚ :=\n  sorry","original":true},"params":[],"name":["Chapter8","explicit_bijection"],"modifiers":null,"kind":"abbrev","id":{"range":[14355,14373],"original":true}},{"value":{"range":[14470,14481],"original":true},"type":{"range":[14432,14469],"original":true},"signature":{"range":{"stop":14469,"start":14430},"pp":" : Function.Bijective explicit_bijection","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter8"]],"openDecl":[],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter8"]},"ref":{"range":{"stop":14481,"start":14398},"pp":"theorem explicit_bijection_spec : Function.Bijective explicit_bijection := by sorry","original":true},"params":[],"name":["Chapter8","explicit_bijection_spec"],"modifiers":null,"kind":"theorem","id":{"range":[14406,14429],"original":true}}]
