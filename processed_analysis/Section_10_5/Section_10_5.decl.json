[{"value":{"range":[1148,1161],"original":true},"type":{"range":[975,1145],"original":true},"signature":{"range":{"stop":1145,"start":757},"pp":" {X : Set ℝ} {f g : ℝ → ℝ} {x₀ f'x₀ g'x₀ : ℝ} (hfx₀ : f x₀ = 0) (hgx₀ : g x₀ = 0) (hg_non : g'x₀ ≠ 0)\n  (hf'x₀ : HasDerivWithinAt f f'x₀ X x₀) (hg'x₀ : HasDerivWithinAt g g'x₀ X x₀) :\n  (∃ δ > 0, ∀ x ∈ X \\ { x₀ } ∩ .Ioo (x₀ - δ) (x₀ + δ), g x ≠ 0) ∧\n    (nhdsWithin x₀ (X \\ { x₀ })).Tendsto (fun x ↦ f x / g x) (nhds (f'x₀ / g'x₀))","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter10"],["Chapter9"]],"openDecl":[{"simple":{"namespace":["Chapter9"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter10"]},"ref":{"range":{"stop":1161,"start":654},"pp":"/-- Proposition 10.5.1 (L'Hôpital's rule, I) / Exercise 10.5.1-/\ntheorem _root_.Filter.Tendsto.of_div {X : Set ℝ} {f g : ℝ → ℝ} {x₀ f'x₀ g'x₀ : ℝ} (hfx₀ : f x₀ = 0) (hgx₀ : g x₀ = 0)\n    (hg_non : g'x₀ ≠ 0) (hf'x₀ : HasDerivWithinAt f f'x₀ X x₀) (hg'x₀ : HasDerivWithinAt g g'x₀ X x₀) :\n    (∃ δ > 0, ∀ x ∈ X \\ { x₀ } ∩ .Ioo (x₀ - δ) (x₀ + δ), g x ≠ 0) ∧\n      (nhdsWithin x₀ (X \\ { x₀ })).Tendsto (fun x ↦ f x / g x) (nhds (f'x₀ / g'x₀)) :=\n  by sorry","original":true},"params":[{"type":[761,768],"ref":[758,759],"id":[758,759],"bi":"implicit"},{"type":[776,787],"ref":[771,772],"id":[771,772],"bi":"implicit"},{"type":[776,787],"ref":[773,774],"id":[773,774],"bi":"implicit"},{"type":[809,812],"ref":[790,794],"id":[790,794],"bi":"implicit"},{"type":[809,812],"ref":[795,801],"id":[795,801],"bi":"implicit"},{"type":[809,812],"ref":[802,808],"id":[802,808],"bi":"implicit"},{"type":[825,835],"ref":[817,823],"id":[817,823],"bi":"default"},{"type":[846,856],"ref":[838,844],"id":[838,844],"bi":"default"},{"type":[867,879],"ref":[859,865],"id":[859,865],"bi":"default"},{"type":[893,925],"ref":[884,891],"id":[884,891],"bi":"default"},{"type":[937,969],"ref":[928,935],"id":[928,935],"bi":"default"}],"name":["Filter","Tendsto","of_div"],"modifiers":null,"kind":"theorem","id":{"range":[728,756],"original":true}},{"value":{"range":[1723,4778],"original":true},"type":{"range":[1617,1722],"original":true},"signature":{"range":{"stop":1722,"start":1251},"pp":" {a b L : ℝ} (hab : a < b) {f g f' g' : ℝ → ℝ} (hf : DifferentiableOn ℝ f (.Icc a b))\n  (hg : DifferentiableOn ℝ g (.Icc a b)) (hf' : f' = derivWithin f (.Icc a b)) (hg' : g' = derivWithin g (.Icc a b))\n  (hfa : f a = 0) (hga : g a = 0) (hgnon : ∀ x ∈ Set.Icc a b, g' x ≠ 0)\n  (hderiv : (nhdsWithin a (.Icc a b)).Tendsto (fun x ↦ f' x / g' x) (nhds L)) :\n  (∀ x ∈ Set.Ioc a b, g x ≠ 0) ∧ (nhdsWithin a (.Ioc a b)).Tendsto (fun x ↦ f x / g x) (nhds L)","original":true},"scopeInfo":{"varDecls":[],"scopedOpenDecl":[["Chapter10"],["Chapter9"]],"openDecl":[{"simple":{"namespace":["Chapter9"],"except":[]}}],"omitVars":[],"levelNames":[],"includeVars":[],"currNamespace":["Chapter10"]},"ref":{"range":{"stop":4778,"start":1163},"pp":"/-- Proposition 10.5.2 (L'Hôpital's rule, II) -/\ntheorem _root_.Filter.Tendsto.of_div' {a b L : ℝ} (hab : a < b) {f g f' g' : ℝ → ℝ}\n    (hf : DifferentiableOn ℝ f (.Icc a b)) (hg : DifferentiableOn ℝ g (.Icc a b)) (hf' : f' = derivWithin f (.Icc a b))\n    (hg' : g' = derivWithin g (.Icc a b)) (hfa : f a = 0) (hga : g a = 0) (hgnon : ∀ x ∈ Set.Icc a b, g' x ≠ 0)\n    (hderiv : (nhdsWithin a (.Icc a b)).Tendsto (fun x ↦ f' x / g' x) (nhds L)) :\n    (∀ x ∈ Set.Ioc a b, g x ≠ 0) ∧ (nhdsWithin a (.Ioc a b)).Tendsto (fun x ↦ f x / g x) (nhds L) := by\n  -- This proof is written to follow the structure of the original text.\n  \n  observe hfcon : ContinuousOn f (.Icc a b)\n  observe hgcon : ContinuousOn g (.Icc a b)\n  have (x : ℝ) (hx : x ∈ Set.Ioc a b) : g x ≠ 0 := by\n    by_contra this\n    simp at hx\n    have := HasDerivWithinAt.exist_zero hx.1 (hgcon.mono ?_) (hg.mono ?_) ?_\n    choose y hy hgy using this; simp at hy\n    have : y ∈ Set.Icc a b := ?_\n    specialize hgnon y this\n    rw [DifferentiableOn.eq_1] at hf hg; specialize hg y this\n    replace hg : HasDerivWithinAt g (g' y) (.Ioo a x) y := by rw [hg']; apply hg.hasDerivWithinAt.mono; grind\n    have hd := derivative_unique ?_ hg hgy\n    . contradiction\n    apply ClusterPt.mono _ ((Filter.principal_mono (s := .Ioo a y)).mpr _)\n    . simp [← mem_closure_iff_clusterPt, closure_Ioo (show a ≠ y by linarith), le_of_lt hy.1]\n    all_goals grind\n  refine ⟨this, ?_⟩\n  rw [← Convergesto.iff, Convergesto.iff_conv]\n  . intro x hx hconv\n    have hxy (n : ℕ) : ∃ yn ∈ Set.Ioo a (x n), (f (x n)) / (g (x n)) = f' yn / (g' yn) :=\n      by\n      set h : ℝ → ℝ := fun x' ↦ (f x') * (g (x n)) - (g x') * (f (x n))\n      have hdiff : DifferentiableOn ℝ h (.Icc a b) := by fun_prop\n      observe hcon : ContinuousOn h (.Icc a b)\n      specialize hx n; simp at hx\n      replace hcon : ContinuousOn h (.Icc a (x n)) := hcon.mono ?_\n      replace hdiff : DifferentiableOn ℝ h (.Ioo a (x n)) := hdiff.mono ?_\n      have ha : h a = 0 := ?_\n      have hb : h (x n) = 0 := ?_\n      choose yn hyn hdh using HasDerivWithinAt.exist_zero hx.1 hcon hdiff (by grind)\n      use yn, hyn\n      rw [DifferentiableOn.eq_1] at hf hg\n      have h1 : HasDerivWithinAt f (f' yn) (.Ioo a (x n)) yn := by rw [hf'];\n        apply (hf _ _).hasDerivWithinAt.mono <;> grind\n      have h2 : HasDerivWithinAt g (g' yn) (.Ioo a (x n)) yn := by rw [hg'];\n        apply (hg _ _).hasDerivWithinAt.mono <;> grind\n      observe h3 : HasDerivWithinAt (fun x' ↦ (f x') * (g (x n))) ((f' yn) * (g (x n))) (.Ioo a (x n)) yn\n      observe h4 : HasDerivWithinAt (fun x' ↦ (g x') * (f (x n))) ((g' yn) * (f (x n))) (.Ioo a (x n)) yn\n      have h5 : HasDerivWithinAt h (f' yn * g (x n) - g' yn * f (x n)) (.Ioo a (x n)) yn := by simp [h]; exact h3.sub h4\n      have h6 : f' yn * g (x n) - g' yn * f (x n) = 0 :=\n        by\n        apply derivative_unique _ h5 hdh\n        apply ClusterPt.mono _ ((Filter.principal_mono (s := .Ioo a yn)).mpr _)\n        . simp [← mem_closure_iff_clusterPt, closure_Ioo (show a ≠ yn by grind)]; grind\n        grind\n      have h7 : g (x n) ≠ 0 := ?_\n      have h8 : g' (yn) ≠ 0 := ?_\n      all_goals grind\n    choose y hy hy' using hxy\n    have hyconv : Filter.atTop.Tendsto y (nhds a) := by apply tendsto_const_nhds.squeeze hconv <;> (intro _; grind)\n    replace hy : ∀ n, y n ∈ Set.Icc a b := by grind\n    simp_rw [hy']; apply hderiv.comp\n    solve_by_elim [tendsto_nhdsWithin_of_tendsto_nhds_of_eventually_within, Filter.Eventually.of_forall]\n  simp [← closure_def', closure_Ioc (show a ≠ b by grind)]; grind","original":true},"params":[{"type":[1258,1261],"ref":[1252,1253],"id":[1252,1253],"bi":"implicit"},{"type":[1258,1261],"ref":[1254,1255],"id":[1254,1255],"bi":"implicit"},{"type":[1258,1261],"ref":[1256,1257],"id":[1256,1257],"bi":"implicit"},{"type":[1269,1274],"ref":[1264,1267],"id":[1264,1267],"bi":"default"},{"type":[1288,1299],"ref":[1277,1278],"id":[1277,1278],"bi":"implicit"},{"type":[1288,1299],"ref":[1279,1280],"id":[1279,1280],"bi":"implicit"},{"type":[1288,1299],"ref":[1281,1283],"id":[1281,1283],"bi":"implicit"},{"type":[1288,1299],"ref":[1284,1286],"id":[1284,1286],"bi":"implicit"},{"type":[1308,1341],"ref":[1304,1306],"id":[1304,1306],"bi":"default"},{"type":[1348,1381],"ref":[1344,1346],"id":[1344,1346],"bi":"default"},{"type":[1391,1420],"ref":[1386,1389],"id":[1386,1389],"bi":"default"},{"type":[1428,1457],"ref":[1423,1426],"id":[1423,1426],"bi":"default"},{"type":[1467,1474],"ref":[1462,1465],"id":[1462,1465],"bi":"default"},{"type":[1482,1489],"ref":[1477,1480],"id":[1477,1480],"bi":"default"},{"type":[1499,1532],"ref":[1492,1497],"id":[1492,1497],"bi":"default"},{"type":[1545,1611],"ref":[1537,1543],"id":[1537,1543],"bi":"default"}],"name":["Filter","Tendsto","of_div'"],"modifiers":null,"kind":"theorem","id":{"range":[1221,1250],"original":true}}]
